2025-06-11T15:41:49.826Z [INFO] [mediasoup-server]: WebSocket server listening on port 8080
2025-06-11T15:41:49.828Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8081
2025-06-11T15:41:49.994Z [ERROR] [mediasoup-server]: WebSocket client error: Error: connect ECONNREFUSED 127.0.0.1:8081
    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1636:16) {
  errno: -4078,
  code: 'ECONNREFUSED',
  syscall: 'connect',
  address: '127.0.0.1',
  port: 8081
}
2025-06-11T15:41:49.996Z [INFO] [mediasoup-server]: Disconnected from target server at ws://127.0.0.1:8081
2025-06-11T15:41:51.348Z [INFO] [mediasoup-server]: WebSocket server listening on port 8081
2025-06-11T15:41:51.350Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8080
2025-06-11T15:41:51.375Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T15:41:51.376Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8080
2025-06-11T15:41:51.377Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T15:41:55.008Z [INFO] [mediasoup-server]: Attempting to reconnect to target server...
2025-06-11T15:41:55.008Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8081
2025-06-11T15:41:55.012Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T15:41:55.013Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8081
2025-06-11T15:41:55.014Z [INFO] [mediasoup-server]: Sending router handshake to server-2: 615a1496-ebc6-46c0-92e1-ecc0a854bafa
2025-06-11T15:41:55.016Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","serverId":"server-1","timestamp":1749656515014}
2025-06-11T15:41:55.016Z [INFO] [mediasoup-server]: Received router ID 615a1496-ebc6-46c0-92e1-ecc0a854bafa from server server-1
2025-06-11T15:41:55.017Z [INFO] [mediasoup-server]: Sending router handshake acknowledgment to server-1
2025-06-11T15:41:55.019Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake_ack","routerId":"be6a533f-18cd-4145-83e8-7ef296a59790","serverId":"server-2","receivedRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","timestamp":1749656515017}
2025-06-11T15:41:55.020Z [INFO] [mediasoup-server]: Received handshake ack from server-2. They received our router ID 615a1496-ebc6-46c0-92e1-ecc0a854bafa
2025-06-11T15:41:55.020Z [INFO] [mediasoup-server]: Storing router ID be6a533f-18cd-4145-83e8-7ef296a59790 from server server-2 (from ack)
2025-06-11T15:42:05.761Z [INFO] [mediasoup-server]: Peer connected: OdClGnlGcVihew3rAAAB
2025-06-11T15:42:26.419Z [INFO] [mediasoup-server]: Peer disconnected: OdClGnlGcVihew3rAAAB
2025-06-11T15:42:26.819Z [INFO] [mediasoup-server]: Peer connected: SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.144Z [INFO] [mediasoup-server]: Created new room: 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:27.145Z [DEBUG] [mediasoup-server]: Returning 0 producers in room 66d235c6c9b3cadc2af8f81c to peer SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.200Z [DEBUG] [mediasoup-server]: Returning 0 producers to peer SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.265Z [DEBUG] [mediasoup-server]: Created WebRTC transport f89db6d4-b40c-4ff9-9605-1ffd16a08edb for peer SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.265Z [DEBUG] [mediasoup-server]: Current transports on server after adding f89db6d4-b40c-4ff9-9605-1ffd16a08edb: [ 'f89db6d4-b40c-4ff9-9605-1ffd16a08edb', [length]: 1 ]
2025-06-11T15:42:27.281Z [INFO] [mediasoup-server]: Received transport-connect for transportId f89db6d4-b40c-4ff9-9605-1ffd16a08edb
2025-06-11T15:42:27.281Z [DEBUG] [mediasoup-server]: Connecting transport f89db6d4-b40c-4ff9-9605-1ffd16a08edb with DTLS parameters
2025-06-11T15:42:27.283Z [INFO] [mediasoup-server]: Transport f89db6d4-b40c-4ff9-9605-1ffd16a08edb connected successfully
2025-06-11T15:42:27.306Z [DEBUG] [mediasoup-server]: getTransport called for socketId: SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.306Z [DEBUG] [mediasoup-server]: getTransport for socketId SBbvDz81gKZd9mXrAAAD found transport: f89db6d4-b40c-4ff9-9605-1ffd16a08edb
2025-06-11T15:42:27.306Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport f89db6d4-b40c-4ff9-9605-1ffd16a08edb for socket SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.321Z [DEBUG] [mediasoup-server]: getTransport called for socketId: SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.321Z [DEBUG] [mediasoup-server]: getTransport for socketId SBbvDz81gKZd9mXrAAAD found transport: f89db6d4-b40c-4ff9-9605-1ffd16a08edb
2025-06-11T15:42:27.321Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport f89db6d4-b40c-4ff9-9605-1ffd16a08edb for socket SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.325Z [DEBUG] [mediasoup-server]: Successfully produced audio with id 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9 on transport f89db6d4-b40c-4ff9-9605-1ffd16a08edb for socket SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.325Z [INFO] [mediasoup-server]: Piping producer 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9 (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:27.328Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9
2025-06-11T15:42:27.328Z [INFO] [mediasoup-server]: Producer 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9 created for peer SBbvDz81gKZd9mXrAAAD, kind: audio
2025-06-11T15:42:27.337Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9
2025-06-11T15:42:27.337Z [INFO] [mediasoup-server]: Handshake complete, attempting immediate pipe for producer 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9
2025-06-11T15:42:27.337Z [INFO] [mediasoup-server]: Piping producer 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9 (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:27.340Z [INFO] [mediasoup-server]: Successfully piped producer 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9 to remote server with router be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:27.341Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9","socketId":"SBbvDz81gKZd9mXrAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3080101519,"dtx":false}],"rtcp":{"cname":"cSeDKGanLSA8I4Hw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:27.341Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9","socketId":"SBbvDz81gKZd9mXrAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3080101519,"dtx":false}],"rtcp":{"cname":"cSeDKGanLSA8I4Hw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:27.342Z [INFO] [mediasoup-server]: Queueing notification for producer 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:27.368Z [DEBUG] [mediasoup-server]: getTransport called for socketId: SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.390Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"23e4a919-9104-42fb-a8c4-83cb5772fc9e","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","targetRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","producerId":"43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9","producerInfo":{"id":"43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3080101519,"dtx":false}],"rtcp":{"cname":"cSeDKGanLSA8I4Hw","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"cf875435-62b9-417f-8ff5-90c0408180d1","ip":"127.0.0.1","port":10293},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:42:27.369Z [DEBUG] [mediasoup-server]: getTransport for socketId SBbvDz81gKZd9mXrAAAD found transport: f89db6d4-b40c-4ff9-9605-1ffd16a08edb
2025-06-11T15:42:27.369Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport f89db6d4-b40c-4ff9-9605-1ffd16a08edb for socket SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.383Z [DEBUG] [mediasoup-server]: getTransport called for socketId: SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.384Z [DEBUG] [mediasoup-server]: getTransport for socketId SBbvDz81gKZd9mXrAAAD found transport: f89db6d4-b40c-4ff9-9605-1ffd16a08edb
2025-06-11T15:42:27.384Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport f89db6d4-b40c-4ff9-9605-1ffd16a08edb for socket SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.390Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"23e4a919-9104-42fb-a8c4-83cb5772fc9e","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","targetRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","producerId":"43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9","producerInfo":{"id":"43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3080101519,"dtx":false}],"rtcp":{"cname":"cSeDKGanLSA8I4Hw","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"cf875435-62b9-417f-8ff5-90c0408180d1","ip":"127.0.0.1","port":10293},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:42:27.390Z [DEBUG] [mediasoup-server]: Successfully produced video with id d775a907-fb3a-4bf4-8798-ce469333b2c6 on transport f89db6d4-b40c-4ff9-9605-1ffd16a08edb for socket SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:27.390Z [INFO] [mediasoup-server]: Piping producer d775a907-fb3a-4bf4-8798-ce469333b2c6 (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:27.390Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer d775a907-fb3a-4bf4-8798-ce469333b2c6
2025-06-11T15:42:27.390Z [INFO] [mediasoup-server]: Producer d775a907-fb3a-4bf4-8798-ce469333b2c6 created for peer SBbvDz81gKZd9mXrAAAD, kind: video
2025-06-11T15:42:27.400Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer d775a907-fb3a-4bf4-8798-ce469333b2c6
2025-06-11T15:42:27.400Z [INFO] [mediasoup-server]: Handshake complete, attempting immediate pipe for producer d775a907-fb3a-4bf4-8798-ce469333b2c6
2025-06-11T15:42:27.400Z [INFO] [mediasoup-server]: Piping producer d775a907-fb3a-4bf4-8798-ce469333b2c6 (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:27.402Z [INFO] [mediasoup-server]: Successfully piped producer d775a907-fb3a-4bf4-8798-ce469333b2c6 to remote server with router be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:27.402Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"d775a907-fb3a-4bf4-8798-ce469333b2c6","socketId":"SBbvDz81gKZd9mXrAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":393101477,"rtx":{"ssrc":2397403649},"dtx":false}],"rtcp":{"cname":"cSeDKGanLSA8I4Hw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:27.408Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"d775a907-fb3a-4bf4-8798-ce469333b2c6","socketId":"SBbvDz81gKZd9mXrAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":393101477,"rtx":{"ssrc":2397403649},"dtx":false}],"rtcp":{"cname":"cSeDKGanLSA8I4Hw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:27.408Z [INFO] [mediasoup-server]: Queueing notification for producer d775a907-fb3a-4bf4-8798-ce469333b2c6 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:27.411Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:27.411Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Successfully created and registered proxy producer undefined
2025-06-11T15:42:27.414Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"23e4a919-9104-42fb-a8c4-83cb5772fc9e","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","targetRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","pipeTransportInfo":{"id":"a2c9fded-9934-4933-ab7f-c0a7ccf5d9ab","ip":"127.0.0.1","port":10855}}
2025-06-11T15:42:27.416Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"78ff7f28-684d-4def-a77f-0d2caf86db26","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","targetRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","producerId":"d775a907-fb3a-4bf4-8798-ce469333b2c6","producerInfo":{"id":"d775a907-fb3a-4bf4-8798-ce469333b2c6","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":393101477,"rtx":{"ssrc":2397403649},"dtx":false}],"rtcp":{"cname":"cSeDKGanLSA8I4Hw","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"7350617d-62c0-4487-ab22-c448569ffc17","ip":"127.0.0.1","port":10871},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:42:27.416Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"78ff7f28-684d-4def-a77f-0d2caf86db26","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","targetRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","producerId":"d775a907-fb3a-4bf4-8798-ce469333b2c6","producerInfo":{"id":"d775a907-fb3a-4bf4-8798-ce469333b2c6","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":393101477,"rtx":{"ssrc":2397403649},"dtx":false}],"rtcp":{"cname":"cSeDKGanLSA8I4Hw","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"7350617d-62c0-4487-ab22-c448569ffc17","ip":"127.0.0.1","port":10871},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:42:27.416Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"23e4a919-9104-42fb-a8c4-83cb5772fc9e","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","targetRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","pipeTransportInfo":{"id":"a2c9fded-9934-4933-ab7f-c0a7ccf5d9ab","ip":"127.0.0.1","port":10855}}
2025-06-11T15:42:27.455Z [INFO] [mediasoup-server]: Successfully piped producer 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9 to remote server with router be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:27.456Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9","socketId":"SBbvDz81gKZd9mXrAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3080101519,"dtx":false}],"rtcp":{"cname":"cSeDKGanLSA8I4Hw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:27.456Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9","socketId":"SBbvDz81gKZd9mXrAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3080101519,"dtx":false}],"rtcp":{"cname":"cSeDKGanLSA8I4Hw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:27.456Z [INFO] [mediasoup-server]: Queueing notification for producer 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:27.457Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:27.457Z [WARN] [mediasoup-server]: [pipeContext.createRemoteProducer] Producer undefined already exists. Returning existing.
2025-06-11T15:42:27.459Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"78ff7f28-684d-4def-a77f-0d2caf86db26","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","targetRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","pipeTransportInfo":{"id":"ca2ccf91-3737-46d5-ba27-779e4ebb3816","ip":"127.0.0.1","port":10170}}
2025-06-11T15:42:27.459Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"78ff7f28-684d-4def-a77f-0d2caf86db26","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","targetRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","pipeTransportInfo":{"id":"ca2ccf91-3737-46d5-ba27-779e4ebb3816","ip":"127.0.0.1","port":10170}}
2025-06-11T15:42:27.465Z [INFO] [mediasoup-server]: Successfully piped producer d775a907-fb3a-4bf4-8798-ce469333b2c6 to remote server with router be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:27.465Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"d775a907-fb3a-4bf4-8798-ce469333b2c6","socketId":"SBbvDz81gKZd9mXrAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":393101477,"rtx":{"ssrc":2397403649},"dtx":false}],"rtcp":{"cname":"cSeDKGanLSA8I4Hw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:27.465Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"d775a907-fb3a-4bf4-8798-ce469333b2c6","socketId":"SBbvDz81gKZd9mXrAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":393101477,"rtx":{"ssrc":2397403649},"dtx":false}],"rtcp":{"cname":"cSeDKGanLSA8I4Hw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:27.466Z [INFO] [mediasoup-server]: Queueing notification for producer d775a907-fb3a-4bf4-8798-ce469333b2c6 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:27.475Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10234,"remoteIp":"127.0.0.1","remotePort":56002,"protocol":"tcp"}
2025-06-11T15:42:27.507Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:42:27.548Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:42:27.566Z [DEBUG] [mediasoup-server]: Producer 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9 score: [{"encodingIdx":0,"ssrc":3080101519,"score":10}]
2025-06-11T15:42:27.588Z [DEBUG] [mediasoup-server]: Producer d775a907-fb3a-4bf4-8798-ce469333b2c6 score: [{"encodingIdx":0,"ssrc":393101477,"score":10}]
2025-06-11T15:42:30.370Z [INFO] [mediasoup-server]: Peer connected: ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.590Z [INFO] [mediasoup-server]: Peer ltOZb6bPoWxXVkFTAAAF joined existing room: 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:30.590Z [DEBUG] [mediasoup-server]: Returning 2 producers in room 66d235c6c9b3cadc2af8f81c to peer ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.659Z [DEBUG] [mediasoup-server]: Returning 2 producers to peer ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.699Z [DEBUG] [mediasoup-server]: Created WebRTC transport f6489b53-2ff3-4292-888d-992dc7ca6ca7 for peer ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.699Z [DEBUG] [mediasoup-server]: Current transports on server after adding f6489b53-2ff3-4292-888d-992dc7ca6ca7: [
  'f89db6d4-b40c-4ff9-9605-1ffd16a08edb',
  'f6489b53-2ff3-4292-888d-992dc7ca6ca7',
  [length]: 2
]
2025-06-11T15:42:30.711Z [DEBUG] [mediasoup-server]: Created WebRTC transport 3999063a-3e17-48be-86f7-8b651de4b992 for peer ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.711Z [DEBUG] [mediasoup-server]: Current transports on server after adding 3999063a-3e17-48be-86f7-8b651de4b992: [
  'f89db6d4-b40c-4ff9-9605-1ffd16a08edb',
  'f6489b53-2ff3-4292-888d-992dc7ca6ca7',
  '3999063a-3e17-48be-86f7-8b651de4b992',
  [length]: 3
]
2025-06-11T15:42:30.715Z [DEBUG] [mediasoup-server]: Created WebRTC transport 6dd454e6-b295-4507-a6c2-a5a650c26cd6 for peer ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.716Z [DEBUG] [mediasoup-server]: Current transports on server after adding 6dd454e6-b295-4507-a6c2-a5a650c26cd6: [
  'f89db6d4-b40c-4ff9-9605-1ffd16a08edb',
  'f6489b53-2ff3-4292-888d-992dc7ca6ca7',
  '3999063a-3e17-48be-86f7-8b651de4b992',
  '6dd454e6-b295-4507-a6c2-a5a650c26cd6',
  [length]: 4
]
2025-06-11T15:42:30.741Z [INFO] [mediasoup-server]: Received transport-connect for transportId f6489b53-2ff3-4292-888d-992dc7ca6ca7
2025-06-11T15:42:30.741Z [DEBUG] [mediasoup-server]: Connecting transport f6489b53-2ff3-4292-888d-992dc7ca6ca7 with DTLS parameters
2025-06-11T15:42:30.763Z [DEBUG] [mediasoup-server]: 'consume' event received for socket: ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.763Z [DEBUG] [mediasoup-server]:   remoteProducerId: 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9
2025-06-11T15:42:30.763Z [DEBUG] [mediasoup-server]:   serverConsumerTransportId: 3999063a-3e17-48be-86f7-8b651de4b992
2025-06-11T15:42:30.763Z [DEBUG] [mediasoup-server]:   rtpCapabilities: {
  codecs: [
    {
      mimeType: 'audio/opus',
      kind: 'audio',
      preferredPayloadType: 100,
      clockRate: 48000,
      channels: 2,
      parameters: { minptime: 10, useinbandfec: 1 },
      rtcpFeedback: [
        { type: 'transport-cc', parameter: '' },
        { type: 'nack', parameter: '' },
        [length]: 2
      ]
    },
    {
      mimeType: 'video/VP8',
      kind: 'video',
      preferredPayloadType: 101,
      clockRate: 90000,
      parameters: {},
      rtcpFeedback: [
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        [length]: 5
      ]
    },
    {
      mimeType: 'video/rtx',
      kind: 'video',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 9
  ]
}
2025-06-11T15:42:30.765Z [DEBUG] [mediasoup-server]: Consuming producer 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9 (isPiped: false)
2025-06-11T15:42:30.777Z [DEBUG] [mediasoup-server]: 'consume' event received for socket: ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.777Z [DEBUG] [mediasoup-server]:   remoteProducerId: d775a907-fb3a-4bf4-8798-ce469333b2c6
2025-06-11T15:42:30.777Z [DEBUG] [mediasoup-server]:   serverConsumerTransportId: 6dd454e6-b295-4507-a6c2-a5a650c26cd6
2025-06-11T15:42:30.777Z [DEBUG] [mediasoup-server]:   rtpCapabilities: {
  codecs: [
    {
      mimeType: 'audio/opus',
      kind: 'audio',
      preferredPayloadType: 100,
      clockRate: 48000,
      channels: 2,
      parameters: { minptime: 10, useinbandfec: 1 },
      rtcpFeedback: [
        { type: 'transport-cc', parameter: '' },
        { type: 'nack', parameter: '' },
        [length]: 2
      ]
    },
    {
      mimeType: 'video/VP8',
      kind: 'video',
      preferredPayloadType: 101,
      clockRate: 90000,
      parameters: {},
      rtcpFeedback: [
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        [length]: 5
      ]
    },
    {
      mimeType: 'video/rtx',
      kind: 'video',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 9
  ]
}
2025-06-11T15:42:30.778Z [DEBUG] [mediasoup-server]: Consuming producer d775a907-fb3a-4bf4-8798-ce469333b2c6 (isPiped: false)
2025-06-11T15:42:30.781Z [INFO] [mediasoup-server]: Transport f6489b53-2ff3-4292-888d-992dc7ca6ca7 connected successfully
2025-06-11T15:42:30.792Z [DEBUG] [mediasoup-server]: Consumer a30c51b8-8490-4471-8e3e-121bc30b80f4 created for peer ltOZb6bPoWxXVkFTAAAF, producer: 43f0d347-5e7f-4a17-9ae0-ddeb49f3f2b9
2025-06-11T15:42:30.798Z [DEBUG] [mediasoup-server]: Consumer 6bc356e2-ef39-4115-9776-8274c081fcad created for peer ltOZb6bPoWxXVkFTAAAF, producer: d775a907-fb3a-4bf4-8798-ce469333b2c6
2025-06-11T15:42:30.830Z [DEBUG] [mediasoup-server]: getTransport called for socketId: ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.830Z [DEBUG] [mediasoup-server]: getTransport for socketId ltOZb6bPoWxXVkFTAAAF found transport: f6489b53-2ff3-4292-888d-992dc7ca6ca7
2025-06-11T15:42:30.830Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport f6489b53-2ff3-4292-888d-992dc7ca6ca7 for socket ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.852Z [DEBUG] [mediasoup-server]: getTransport called for socketId: ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.852Z [DEBUG] [mediasoup-server]: getTransport for socketId ltOZb6bPoWxXVkFTAAAF found transport: f6489b53-2ff3-4292-888d-992dc7ca6ca7
2025-06-11T15:42:30.852Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport f6489b53-2ff3-4292-888d-992dc7ca6ca7 for socket ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.865Z [INFO] [mediasoup-server]: Received transport-recv-connect for transportId 3999063a-3e17-48be-86f7-8b651de4b992
2025-06-11T15:42:30.866Z [DEBUG] [mediasoup-server]: Connecting consumer transport 3999063a-3e17-48be-86f7-8b651de4b992 with DTLS parameters
2025-06-11T15:42:30.883Z [INFO] [mediasoup-server]: Received transport-recv-connect for transportId 6dd454e6-b295-4507-a6c2-a5a650c26cd6
2025-06-11T15:42:30.883Z [DEBUG] [mediasoup-server]: Connecting consumer transport 6dd454e6-b295-4507-a6c2-a5a650c26cd6 with DTLS parameters
2025-06-11T15:42:30.902Z [DEBUG] [mediasoup-server]: Received 'request-keyframe' for producer d775a907-fb3a-4bf4-8798-ce469333b2c6 (client thinks isPiped: undefined)
2025-06-11T15:42:30.903Z [WARN] [mediasoup-server]: Cannot fulfill keyframe request for producer d775a907-fb3a-4bf4-8798-ce469333b2c6: No valid producer or method
2025-06-11T15:42:30.930Z [DEBUG] [mediasoup-server]: Successfully produced audio with id a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f on transport f6489b53-2ff3-4292-888d-992dc7ca6ca7 for socket ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:30.930Z [INFO] [mediasoup-server]: Piping producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:30.930Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f
2025-06-11T15:42:30.931Z [DEBUG] [mediasoup-server]: Notifying peer SBbvDz81gKZd9mXrAAAD about producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f
2025-06-11T15:42:30.932Z [INFO] [mediasoup-server]: Producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f created for peer ltOZb6bPoWxXVkFTAAAF, kind: audio
2025-06-11T15:42:30.940Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f
2025-06-11T15:42:30.940Z [DEBUG] [mediasoup-server]: Notifying peer SBbvDz81gKZd9mXrAAAD about producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f
2025-06-11T15:42:30.944Z [INFO] [mediasoup-server]: Handshake complete, attempting immediate pipe for producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f
2025-06-11T15:42:30.944Z [INFO] [mediasoup-server]: Piping producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:30.946Z [INFO] [mediasoup-server]: Successfully piped producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f to remote server with router be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:30.947Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f","socketId":"ltOZb6bPoWxXVkFTAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":415686329,"dtx":false}],"rtcp":{"cname":"QEVzeb+NEDFZ9IBw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:30.948Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f","socketId":"ltOZb6bPoWxXVkFTAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":415686329,"dtx":false}],"rtcp":{"cname":"QEVzeb+NEDFZ9IBw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:30.948Z [INFO] [mediasoup-server]: Queueing notification for producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:31.021Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"66455811-8c9a-411e-99ae-51afdd3ec6e2","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","targetRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","producerId":"a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f","producerInfo":{"id":"a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":415686329,"dtx":false}],"rtcp":{"cname":"QEVzeb+NEDFZ9IBw","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"59f3bb3c-aee3-46d2-96f2-b5fe65320ac4","ip":"127.0.0.1","port":10319},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:42:30.988Z [INFO] [mediasoup-server]: Consumer transport 3999063a-3e17-48be-86f7-8b651de4b992 connected successfully
2025-06-11T15:42:31.006Z [DEBUG] [mediasoup-server]: Consumer a30c51b8-8490-4471-8e3e-121bc30b80f4 resumed
2025-06-11T15:42:31.006Z [INFO] [mediasoup-server]: Consumer transport 6dd454e6-b295-4507-a6c2-a5a650c26cd6 connected successfully
2025-06-11T15:42:31.020Z [DEBUG] [mediasoup-server]: Consumer 6bc356e2-ef39-4115-9776-8274c081fcad resumed
2025-06-11T15:42:31.021Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"66455811-8c9a-411e-99ae-51afdd3ec6e2","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","targetRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","producerId":"a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f","producerInfo":{"id":"a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":415686329,"dtx":false}],"rtcp":{"cname":"QEVzeb+NEDFZ9IBw","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"59f3bb3c-aee3-46d2-96f2-b5fe65320ac4","ip":"127.0.0.1","port":10319},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:42:31.029Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:31.030Z [WARN] [mediasoup-server]: [pipeContext.createRemoteProducer] Producer undefined already exists. Returning existing.
2025-06-11T15:42:31.032Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"66455811-8c9a-411e-99ae-51afdd3ec6e2","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","targetRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","pipeTransportInfo":{"id":"fa122466-ceae-4672-a355-48a9e0bbb17f","ip":"127.0.0.1","port":10821}}
2025-06-11T15:42:31.049Z [DEBUG] [mediasoup-server]: getTransport called for socketId: ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:31.050Z [DEBUG] [mediasoup-server]: getTransport for socketId ltOZb6bPoWxXVkFTAAAF found transport: f6489b53-2ff3-4292-888d-992dc7ca6ca7
2025-06-11T15:42:31.050Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport f6489b53-2ff3-4292-888d-992dc7ca6ca7 for socket ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:31.073Z [DEBUG] [mediasoup-server]: getTransport called for socketId: ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:31.073Z [DEBUG] [mediasoup-server]: getTransport for socketId ltOZb6bPoWxXVkFTAAAF found transport: f6489b53-2ff3-4292-888d-992dc7ca6ca7
2025-06-11T15:42:31.073Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport f6489b53-2ff3-4292-888d-992dc7ca6ca7 for socket ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:31.112Z [DEBUG] [mediasoup-server]: Created WebRTC transport b6cf484c-dfdb-4c93-a397-e8756cf903c9 for peer SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:31.112Z [DEBUG] [mediasoup-server]: Current transports on server after adding b6cf484c-dfdb-4c93-a397-e8756cf903c9: [
  'f89db6d4-b40c-4ff9-9605-1ffd16a08edb',
  'f6489b53-2ff3-4292-888d-992dc7ca6ca7',
  '3999063a-3e17-48be-86f7-8b651de4b992',
  '6dd454e6-b295-4507-a6c2-a5a650c26cd6',
  'b6cf484c-dfdb-4c93-a397-e8756cf903c9',
  [length]: 5
]
2025-06-11T15:42:31.116Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10007,"remoteIp":"127.0.0.1","remotePort":56027,"protocol":"tcp"}
2025-06-11T15:42:31.117Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:42:31.117Z [DEBUG] [mediasoup-server]: Producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f score: [{"encodingIdx":0,"ssrc":415686329,"score":10}]
2025-06-11T15:42:31.117Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10828,"remoteIp":"127.0.0.1","remotePort":56029,"protocol":"tcp"}
2025-06-11T15:42:31.117Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:42:31.117Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10015,"remoteIp":"127.0.0.1","remotePort":56031,"protocol":"tcp"}
2025-06-11T15:42:31.118Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:42:31.118Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:42:31.155Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"42468449-75d6-4a2d-89f8-5fbc067355ba","socketId":"ltOZb6bPoWxXVkFTAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3942916629,"rtx":{"ssrc":792550770},"dtx":false}],"rtcp":{"cname":"QEVzeb+NEDFZ9IBw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:31.155Z [INFO] [mediasoup-server]: Queueing notification for producer 42468449-75d6-4a2d-89f8-5fbc067355ba in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:31.118Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"66455811-8c9a-411e-99ae-51afdd3ec6e2","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","targetRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","pipeTransportInfo":{"id":"fa122466-ceae-4672-a355-48a9e0bbb17f","ip":"127.0.0.1","port":10821}}
2025-06-11T15:42:31.131Z [DEBUG] [mediasoup-server]: Successfully produced video with id 42468449-75d6-4a2d-89f8-5fbc067355ba on transport f6489b53-2ff3-4292-888d-992dc7ca6ca7 for socket ltOZb6bPoWxXVkFTAAAF
2025-06-11T15:42:31.131Z [INFO] [mediasoup-server]: Piping producer 42468449-75d6-4a2d-89f8-5fbc067355ba (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:31.132Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 42468449-75d6-4a2d-89f8-5fbc067355ba
2025-06-11T15:42:31.132Z [DEBUG] [mediasoup-server]: Notifying peer SBbvDz81gKZd9mXrAAAD about producer 42468449-75d6-4a2d-89f8-5fbc067355ba
2025-06-11T15:42:31.133Z [INFO] [mediasoup-server]: Producer 42468449-75d6-4a2d-89f8-5fbc067355ba created for peer ltOZb6bPoWxXVkFTAAAF, kind: video
2025-06-11T15:42:31.137Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 42468449-75d6-4a2d-89f8-5fbc067355ba
2025-06-11T15:42:31.137Z [DEBUG] [mediasoup-server]: Notifying peer SBbvDz81gKZd9mXrAAAD about producer 42468449-75d6-4a2d-89f8-5fbc067355ba
2025-06-11T15:42:31.148Z [INFO] [mediasoup-server]: Handshake complete, attempting immediate pipe for producer 42468449-75d6-4a2d-89f8-5fbc067355ba
2025-06-11T15:42:31.148Z [INFO] [mediasoup-server]: Piping producer 42468449-75d6-4a2d-89f8-5fbc067355ba (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:31.154Z [INFO] [mediasoup-server]: Successfully piped producer 42468449-75d6-4a2d-89f8-5fbc067355ba to remote server with router be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:31.155Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"42468449-75d6-4a2d-89f8-5fbc067355ba","socketId":"ltOZb6bPoWxXVkFTAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3942916629,"rtx":{"ssrc":792550770},"dtx":false}],"rtcp":{"cname":"QEVzeb+NEDFZ9IBw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:31.156Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:42:31.156Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:42:31.163Z [DEBUG] [mediasoup-server]: 'consume' event received for socket: SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:31.163Z [DEBUG] [mediasoup-server]:   remoteProducerId: a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f
2025-06-11T15:42:31.163Z [DEBUG] [mediasoup-server]:   serverConsumerTransportId: b6cf484c-dfdb-4c93-a397-e8756cf903c9
2025-06-11T15:42:31.163Z [DEBUG] [mediasoup-server]:   rtpCapabilities: {
  codecs: [
    {
      mimeType: 'audio/opus',
      kind: 'audio',
      preferredPayloadType: 100,
      clockRate: 48000,
      channels: 2,
      parameters: { minptime: 10, useinbandfec: 1 },
      rtcpFeedback: [
        { type: 'transport-cc', parameter: '' },
        { type: 'nack', parameter: '' },
        [length]: 2
      ]
    },
    {
      mimeType: 'video/VP8',
      kind: 'video',
      preferredPayloadType: 101,
      clockRate: 90000,
      parameters: {},
      rtcpFeedback: [
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        [length]: 5
      ]
    },
    {
      mimeType: 'video/rtx',
      kind: 'video',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 9
  ]
}
2025-06-11T15:42:31.164Z [DEBUG] [mediasoup-server]: Consuming producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f (isPiped: false)
2025-06-11T15:42:31.181Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"bd64e3f5-55f2-4cad-a4de-d78cae90d5d0","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","targetRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","producerId":"42468449-75d6-4a2d-89f8-5fbc067355ba","producerInfo":{"id":"42468449-75d6-4a2d-89f8-5fbc067355ba","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3942916629,"rtx":{"ssrc":792550770},"dtx":false}],"rtcp":{"cname":"QEVzeb+NEDFZ9IBw","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"5cf88119-12a7-49a9-a61a-4393f18c5953","ip":"127.0.0.1","port":10684},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:42:31.184Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"bd64e3f5-55f2-4cad-a4de-d78cae90d5d0","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","targetRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","producerId":"42468449-75d6-4a2d-89f8-5fbc067355ba","producerInfo":{"id":"42468449-75d6-4a2d-89f8-5fbc067355ba","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3942916629,"rtx":{"ssrc":792550770},"dtx":false}],"rtcp":{"cname":"QEVzeb+NEDFZ9IBw","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"5cf88119-12a7-49a9-a61a-4393f18c5953","ip":"127.0.0.1","port":10684},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:42:31.196Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:31.196Z [WARN] [mediasoup-server]: [pipeContext.createRemoteProducer] Producer undefined already exists. Returning existing.
2025-06-11T15:42:31.198Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"bd64e3f5-55f2-4cad-a4de-d78cae90d5d0","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","targetRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","pipeTransportInfo":{"id":"b540dc50-7436-413b-9096-aef31e77041a","ip":"127.0.0.1","port":10390}}
2025-06-11T15:42:31.183Z [DEBUG] [mediasoup-server]: Producer 42468449-75d6-4a2d-89f8-5fbc067355ba score: [{"encodingIdx":0,"ssrc":3942916629,"score":10}]
2025-06-11T15:42:31.186Z [DEBUG] [mediasoup-server]: Consumer 6363d9f3-95cb-4168-abad-3af86e17b8ac created for peer SBbvDz81gKZd9mXrAAAD, producer: a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f
2025-06-11T15:42:31.195Z [DEBUG] [mediasoup-server]: Created WebRTC transport 5ed2b30e-b656-48d9-ad9d-ae509cf0b9e6 for peer SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:31.195Z [DEBUG] [mediasoup-server]: Current transports on server after adding 5ed2b30e-b656-48d9-ad9d-ae509cf0b9e6: [
  'f89db6d4-b40c-4ff9-9605-1ffd16a08edb',
  'f6489b53-2ff3-4292-888d-992dc7ca6ca7',
  '3999063a-3e17-48be-86f7-8b651de4b992',
  '6dd454e6-b295-4507-a6c2-a5a650c26cd6',
  'b6cf484c-dfdb-4c93-a397-e8756cf903c9',
  '5ed2b30e-b656-48d9-ad9d-ae509cf0b9e6',
  [length]: 6
]
2025-06-11T15:42:31.206Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"bd64e3f5-55f2-4cad-a4de-d78cae90d5d0","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"be6a533f-18cd-4145-83e8-7ef296a59790","targetRouterId":"615a1496-ebc6-46c0-92e1-ecc0a854bafa","pipeTransportInfo":{"id":"b540dc50-7436-413b-9096-aef31e77041a","ip":"127.0.0.1","port":10390}}
2025-06-11T15:42:31.223Z [INFO] [mediasoup-server]: Received transport-recv-connect for transportId b6cf484c-dfdb-4c93-a397-e8756cf903c9
2025-06-11T15:42:31.223Z [DEBUG] [mediasoup-server]: Connecting consumer transport b6cf484c-dfdb-4c93-a397-e8756cf903c9 with DTLS parameters
2025-06-11T15:42:31.238Z [INFO] [mediasoup-server]: Successfully piped producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f to remote server with router be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:31.238Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f","socketId":"ltOZb6bPoWxXVkFTAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":415686329,"dtx":false}],"rtcp":{"cname":"QEVzeb+NEDFZ9IBw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:31.238Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f","socketId":"ltOZb6bPoWxXVkFTAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":415686329,"dtx":false}],"rtcp":{"cname":"QEVzeb+NEDFZ9IBw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:31.238Z [INFO] [mediasoup-server]: Queueing notification for producer a410957e-4ea9-4b9d-a86d-cae7bdaf7a0f in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:31.259Z [DEBUG] [mediasoup-server]: 'consume' event received for socket: SBbvDz81gKZd9mXrAAAD
2025-06-11T15:42:31.259Z [DEBUG] [mediasoup-server]:   remoteProducerId: 42468449-75d6-4a2d-89f8-5fbc067355ba
2025-06-11T15:42:31.259Z [DEBUG] [mediasoup-server]:   serverConsumerTransportId: 5ed2b30e-b656-48d9-ad9d-ae509cf0b9e6
2025-06-11T15:42:31.259Z [DEBUG] [mediasoup-server]:   rtpCapabilities: {
  codecs: [
    {
      mimeType: 'audio/opus',
      kind: 'audio',
      preferredPayloadType: 100,
      clockRate: 48000,
      channels: 2,
      parameters: { minptime: 10, useinbandfec: 1 },
      rtcpFeedback: [
        { type: 'transport-cc', parameter: '' },
        { type: 'nack', parameter: '' },
        [length]: 2
      ]
    },
    {
      mimeType: 'video/VP8',
      kind: 'video',
      preferredPayloadType: 101,
      clockRate: 90000,
      parameters: {},
      rtcpFeedback: [
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        [length]: 5
      ]
    },
    {
      mimeType: 'video/rtx',
      kind: 'video',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 9
  ]
}
2025-06-11T15:42:31.260Z [DEBUG] [mediasoup-server]: Consuming producer 42468449-75d6-4a2d-89f8-5fbc067355ba (isPiped: false)
2025-06-11T15:42:31.261Z [INFO] [mediasoup-server]: Consumer transport b6cf484c-dfdb-4c93-a397-e8756cf903c9 connected successfully
2025-06-11T15:42:31.270Z [DEBUG] [mediasoup-server]: Consumer 6363d9f3-95cb-4168-abad-3af86e17b8ac resumed
2025-06-11T15:42:31.270Z [DEBUG] [mediasoup-server]: Consumer a35d9368-b869-4b67-9e5a-9cb9a5a0c602 created for peer SBbvDz81gKZd9mXrAAAD, producer: 42468449-75d6-4a2d-89f8-5fbc067355ba
2025-06-11T15:42:31.274Z [INFO] [mediasoup-server]: Successfully piped producer 42468449-75d6-4a2d-89f8-5fbc067355ba to remote server with router be6a533f-18cd-4145-83e8-7ef296a59790
2025-06-11T15:42:31.275Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"42468449-75d6-4a2d-89f8-5fbc067355ba","socketId":"ltOZb6bPoWxXVkFTAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3942916629,"rtx":{"ssrc":792550770},"dtx":false}],"rtcp":{"cname":"QEVzeb+NEDFZ9IBw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:31.275Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"42468449-75d6-4a2d-89f8-5fbc067355ba","socketId":"ltOZb6bPoWxXVkFTAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3942916629,"rtx":{"ssrc":792550770},"dtx":false}],"rtcp":{"cname":"QEVzeb+NEDFZ9IBw","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:42:31.275Z [INFO] [mediasoup-server]: Queueing notification for producer 42468449-75d6-4a2d-89f8-5fbc067355ba in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:42:31.292Z [INFO] [mediasoup-server]: Received transport-recv-connect for transportId 5ed2b30e-b656-48d9-ad9d-ae509cf0b9e6
2025-06-11T15:42:31.292Z [DEBUG] [mediasoup-server]: Connecting consumer transport 5ed2b30e-b656-48d9-ad9d-ae509cf0b9e6 with DTLS parameters
2025-06-11T15:42:31.299Z [DEBUG] [mediasoup-server]: Received 'request-keyframe' for producer 42468449-75d6-4a2d-89f8-5fbc067355ba (client thinks isPiped: undefined)
2025-06-11T15:42:31.300Z [WARN] [mediasoup-server]: Cannot fulfill keyframe request for producer 42468449-75d6-4a2d-89f8-5fbc067355ba: No valid producer or method
2025-06-11T15:42:31.306Z [INFO] [mediasoup-server]: Consumer transport 5ed2b30e-b656-48d9-ad9d-ae509cf0b9e6 connected successfully
2025-06-11T15:42:31.321Z [DEBUG] [mediasoup-server]: Consumer a35d9368-b869-4b67-9e5a-9cb9a5a0c602 resumed
2025-06-11T15:42:31.350Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10037,"remoteIp":"127.0.0.1","remotePort":56033,"protocol":"tcp"}
2025-06-11T15:42:31.351Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:42:31.413Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:42:31.475Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10008,"remoteIp":"127.0.0.1","remotePort":56036,"protocol":"tcp"}
2025-06-11T15:42:31.475Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:42:31.538Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:42:58.799Z [INFO] [mediasoup-server]: WebSocket server listening on port 8081
2025-06-11T15:42:58.801Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8080
2025-06-11T15:42:58.805Z [INFO] [mediasoup-server]: WebSocket server listening on port 8080
2025-06-11T15:42:58.807Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8081
2025-06-11T15:42:58.833Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T15:42:58.833Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T15:42:58.836Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8080
2025-06-11T15:42:58.836Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T15:42:58.837Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8081
2025-06-11T15:42:58.837Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T15:43:00.440Z [INFO] [mediasoup-server]: Peer connected: YfDxDE7My-Zr2ZSVAAAB
2025-06-11T15:43:03.847Z [INFO] [mediasoup-server]: Sending periodic router handshake to server-2
2025-06-11T15:43:03.849Z [INFO] [mediasoup-server]: Sending periodic router handshake to server-1
2025-06-11T15:43:03.848Z [INFO] [mediasoup-server]: Sending router handshake to server-2: 29a9dd14-0a3b-40a7-9f98-880e7d2ce94f
2025-06-11T15:43:03.850Z [INFO] [mediasoup-server]: Sending router handshake to server-1: 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:03.854Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","serverId":"server-1","timestamp":1749656583848}
2025-06-11T15:43:03.855Z [INFO] [mediasoup-server]: Received router ID 29a9dd14-0a3b-40a7-9f98-880e7d2ce94f from server server-1
2025-06-11T15:43:03.856Z [INFO] [mediasoup-server]: Sending router handshake acknowledgment to server-1
2025-06-11T15:43:03.854Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","serverId":"server-2","timestamp":1749656583850}
2025-06-11T15:43:03.855Z [INFO] [mediasoup-server]: Received router ID 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1 from server server-2
2025-06-11T15:43:03.856Z [INFO] [mediasoup-server]: Sending router handshake acknowledgment to server-2
2025-06-11T15:43:03.858Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake_ack","routerId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","serverId":"server-2","receivedRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","timestamp":1749656583856}
2025-06-11T15:43:03.859Z [INFO] [mediasoup-server]: Received handshake ack from server-2. They received our router ID 29a9dd14-0a3b-40a7-9f98-880e7d2ce94f
2025-06-11T15:43:03.858Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake_ack","routerId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","serverId":"server-1","receivedRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","timestamp":1749656583856}
2025-06-11T15:43:03.859Z [INFO] [mediasoup-server]: Received handshake ack from server-1. They received our router ID 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:07.221Z [INFO] [mediasoup-server]: Peer connected: BUZzfa9zWguWS23LAAAD
2025-06-11T15:43:10.172Z [INFO] [mediasoup-server]: Peer disconnected: YfDxDE7My-Zr2ZSVAAAB
2025-06-11T15:43:12.041Z [INFO] [mediasoup-server]: Peer disconnected: BUZzfa9zWguWS23LAAAD
2025-06-11T15:43:12.434Z [INFO] [mediasoup-server]: Peer connected: XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:13.568Z [INFO] [mediasoup-server]: Peer connected: 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:21.903Z [INFO] [mediasoup-server]: Created new room: 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:21.904Z [DEBUG] [mediasoup-server]: Returning 0 producers in room 66d235c6c9b3cadc2af8f81c to peer XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:21.959Z [DEBUG] [mediasoup-server]: Returning 0 producers to peer XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:21.974Z [DEBUG] [mediasoup-server]: Created WebRTC transport a6f044aa-71b1-4712-96e9-77304e637fdc for peer XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:21.975Z [DEBUG] [mediasoup-server]: Current transports on server after adding a6f044aa-71b1-4712-96e9-77304e637fdc: [ 'a6f044aa-71b1-4712-96e9-77304e637fdc', [length]: 1 ]
2025-06-11T15:43:22.006Z [INFO] [mediasoup-server]: Received transport-connect for transportId a6f044aa-71b1-4712-96e9-77304e637fdc
2025-06-11T15:43:22.006Z [DEBUG] [mediasoup-server]: Connecting transport a6f044aa-71b1-4712-96e9-77304e637fdc with DTLS parameters
2025-06-11T15:43:22.009Z [INFO] [mediasoup-server]: Transport a6f044aa-71b1-4712-96e9-77304e637fdc connected successfully
2025-06-11T15:43:22.024Z [DEBUG] [mediasoup-server]: getTransport called for socketId: XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:22.024Z [DEBUG] [mediasoup-server]: getTransport for socketId XTy58AfpjHfmLX7xAAAF found transport: a6f044aa-71b1-4712-96e9-77304e637fdc
2025-06-11T15:43:22.024Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport a6f044aa-71b1-4712-96e9-77304e637fdc for socket XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:22.037Z [DEBUG] [mediasoup-server]: getTransport called for socketId: XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:22.038Z [DEBUG] [mediasoup-server]: getTransport for socketId XTy58AfpjHfmLX7xAAAF found transport: a6f044aa-71b1-4712-96e9-77304e637fdc
2025-06-11T15:43:22.038Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport a6f044aa-71b1-4712-96e9-77304e637fdc for socket XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:22.054Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"4004c05e-cb69-4054-a169-5a3cc8b4360f","socketId":"XTy58AfpjHfmLX7xAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3865845220,"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:22.041Z [DEBUG] [mediasoup-server]: Successfully produced audio with id 4004c05e-cb69-4054-a169-5a3cc8b4360f on transport a6f044aa-71b1-4712-96e9-77304e637fdc for socket XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:22.042Z [INFO] [mediasoup-server]: Piping producer 4004c05e-cb69-4054-a169-5a3cc8b4360f (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:22.043Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 4004c05e-cb69-4054-a169-5a3cc8b4360f
2025-06-11T15:43:22.043Z [INFO] [mediasoup-server]: Producer 4004c05e-cb69-4054-a169-5a3cc8b4360f created for peer XTy58AfpjHfmLX7xAAAF, kind: audio
2025-06-11T15:43:22.048Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 4004c05e-cb69-4054-a169-5a3cc8b4360f
2025-06-11T15:43:22.048Z [INFO] [mediasoup-server]: Handshake complete, attempting immediate pipe for producer 4004c05e-cb69-4054-a169-5a3cc8b4360f
2025-06-11T15:43:22.048Z [INFO] [mediasoup-server]: Piping producer 4004c05e-cb69-4054-a169-5a3cc8b4360f (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:22.052Z [INFO] [mediasoup-server]: Successfully piped producer 4004c05e-cb69-4054-a169-5a3cc8b4360f to remote server with router 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:22.053Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"4004c05e-cb69-4054-a169-5a3cc8b4360f","socketId":"XTy58AfpjHfmLX7xAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3865845220,"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:22.054Z [INFO] [mediasoup-server]: Queueing notification for producer 4004c05e-cb69-4054-a169-5a3cc8b4360f in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:22.080Z [DEBUG] [mediasoup-server]: getTransport called for socketId: XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:22.105Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"3ec6cb52-279b-4dcc-aa4e-21e50c557ae8","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","targetRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","producerId":"4004c05e-cb69-4054-a169-5a3cc8b4360f","producerInfo":{"id":"4004c05e-cb69-4054-a169-5a3cc8b4360f","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3865845220,"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"f949ee47-3463-4dd5-981f-2276d1cbebf7","ip":"127.0.0.1","port":10613},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:43:22.080Z [DEBUG] [mediasoup-server]: getTransport for socketId XTy58AfpjHfmLX7xAAAF found transport: a6f044aa-71b1-4712-96e9-77304e637fdc
2025-06-11T15:43:22.080Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport a6f044aa-71b1-4712-96e9-77304e637fdc for socket XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:22.099Z [DEBUG] [mediasoup-server]: getTransport called for socketId: XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:22.099Z [DEBUG] [mediasoup-server]: getTransport for socketId XTy58AfpjHfmLX7xAAAF found transport: a6f044aa-71b1-4712-96e9-77304e637fdc
2025-06-11T15:43:22.099Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport a6f044aa-71b1-4712-96e9-77304e637fdc for socket XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:22.105Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"3ec6cb52-279b-4dcc-aa4e-21e50c557ae8","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","targetRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","producerId":"4004c05e-cb69-4054-a169-5a3cc8b4360f","producerInfo":{"id":"4004c05e-cb69-4054-a169-5a3cc8b4360f","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3865845220,"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"f949ee47-3463-4dd5-981f-2276d1cbebf7","ip":"127.0.0.1","port":10613},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:43:22.105Z [DEBUG] [mediasoup-server]: Successfully produced video with id ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 on transport a6f044aa-71b1-4712-96e9-77304e637fdc for socket XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:22.105Z [INFO] [mediasoup-server]: Piping producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:22.105Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0
2025-06-11T15:43:22.105Z [INFO] [mediasoup-server]: Producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 created for peer XTy58AfpjHfmLX7xAAAF, kind: video
2025-06-11T15:43:22.108Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0
2025-06-11T15:43:22.108Z [INFO] [mediasoup-server]: Handshake complete, attempting immediate pipe for producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0
2025-06-11T15:43:22.108Z [INFO] [mediasoup-server]: Piping producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:22.110Z [INFO] [mediasoup-server]: Successfully piped producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 to remote server with router 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:22.110Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","socketId":"XTy58AfpjHfmLX7xAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2873653487,"rtx":{"ssrc":1279547905},"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:22.111Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","socketId":"XTy58AfpjHfmLX7xAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2873653487,"rtx":{"ssrc":1279547905},"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:22.111Z [INFO] [mediasoup-server]: Queueing notification for producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:22.121Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:22.122Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Successfully created and registered proxy producer undefined
2025-06-11T15:43:22.125Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"eef39f33-96ce-418c-856f-847271599034","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","targetRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","producerId":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","producerInfo":{"id":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2873653487,"rtx":{"ssrc":1279547905},"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"fdf34756-2512-4a82-b166-5320e0cef33c","ip":"127.0.0.1","port":10807},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:43:22.125Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"3ec6cb52-279b-4dcc-aa4e-21e50c557ae8","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","targetRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","pipeTransportInfo":{"id":"f793f309-b299-41e2-80b2-77f00788beca","ip":"127.0.0.1","port":10335}}
2025-06-11T15:43:22.124Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"3ec6cb52-279b-4dcc-aa4e-21e50c557ae8","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","targetRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","pipeTransportInfo":{"id":"f793f309-b299-41e2-80b2-77f00788beca","ip":"127.0.0.1","port":10335}}
2025-06-11T15:43:22.126Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"eef39f33-96ce-418c-856f-847271599034","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","targetRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","producerId":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","producerInfo":{"id":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2873653487,"rtx":{"ssrc":1279547905},"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"fdf34756-2512-4a82-b166-5320e0cef33c","ip":"127.0.0.1","port":10807},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:43:22.131Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:22.132Z [INFO] [mediasoup-server]: Successfully piped producer 4004c05e-cb69-4054-a169-5a3cc8b4360f to remote server with router 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:22.131Z [WARN] [mediasoup-server]: [pipeContext.createRemoteProducer] Producer undefined already exists. Returning existing.
2025-06-11T15:43:22.133Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"4004c05e-cb69-4054-a169-5a3cc8b4360f","socketId":"XTy58AfpjHfmLX7xAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3865845220,"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:22.133Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"eef39f33-96ce-418c-856f-847271599034","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","targetRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","pipeTransportInfo":{"id":"868e1e87-a35d-45b8-a35a-892f9dce919b","ip":"127.0.0.1","port":10194}}
2025-06-11T15:43:22.133Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"eef39f33-96ce-418c-856f-847271599034","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","targetRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","pipeTransportInfo":{"id":"868e1e87-a35d-45b8-a35a-892f9dce919b","ip":"127.0.0.1","port":10194}}
2025-06-11T15:43:22.134Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"4004c05e-cb69-4054-a169-5a3cc8b4360f","socketId":"XTy58AfpjHfmLX7xAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3865845220,"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:22.134Z [INFO] [mediasoup-server]: Queueing notification for producer 4004c05e-cb69-4054-a169-5a3cc8b4360f in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:22.139Z [INFO] [mediasoup-server]: Successfully piped producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 to remote server with router 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:22.139Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","socketId":"XTy58AfpjHfmLX7xAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2873653487,"rtx":{"ssrc":1279547905},"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:22.140Z [INFO] [mediasoup-server]: Queueing notification for producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:22.139Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","socketId":"XTy58AfpjHfmLX7xAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2873653487,"rtx":{"ssrc":1279547905},"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:22.213Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10050,"remoteIp":"127.0.0.1","remotePort":62010,"protocol":"tcp"}
2025-06-11T15:43:22.214Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:43:22.238Z [INFO] [mediasoup-server]: Peer disconnected: XTy58AfpjHfmLX7xAAAF
2025-06-11T15:43:22.239Z [INFO] [mediasoup-server]: Room 66d235c6c9b3cadc2af8f81c deleted (no peers remaining)
2025-06-11T15:43:22.626Z [INFO] [mediasoup-server]: Peer connected: sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:22.909Z [INFO] [mediasoup-server]: Created new room: 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:22.910Z [DEBUG] [mediasoup-server]: Returning 0 producers in room 66d235c6c9b3cadc2af8f81c to peer sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:22.954Z [DEBUG] [mediasoup-server]: Returning 0 producers to peer sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:22.958Z [DEBUG] [mediasoup-server]: Created WebRTC transport 0cdb773b-603d-4318-a150-471fbeebaa4d for peer sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:22.958Z [DEBUG] [mediasoup-server]: Current transports on server after adding 0cdb773b-603d-4318-a150-471fbeebaa4d: [ '0cdb773b-603d-4318-a150-471fbeebaa4d', [length]: 1 ]
2025-06-11T15:43:22.977Z [INFO] [mediasoup-server]: Received transport-connect for transportId 0cdb773b-603d-4318-a150-471fbeebaa4d
2025-06-11T15:43:22.978Z [DEBUG] [mediasoup-server]: Connecting transport 0cdb773b-603d-4318-a150-471fbeebaa4d with DTLS parameters
2025-06-11T15:43:22.979Z [INFO] [mediasoup-server]: Transport 0cdb773b-603d-4318-a150-471fbeebaa4d connected successfully
2025-06-11T15:43:22.988Z [DEBUG] [mediasoup-server]: getTransport called for socketId: sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:22.988Z [DEBUG] [mediasoup-server]: getTransport for socketId sxMUgvtpqmrCKVvqAAAH found transport: 0cdb773b-603d-4318-a150-471fbeebaa4d
2025-06-11T15:43:22.988Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 0cdb773b-603d-4318-a150-471fbeebaa4d for socket sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:22.992Z [DEBUG] [mediasoup-server]: getTransport called for socketId: sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:22.992Z [DEBUG] [mediasoup-server]: getTransport for socketId sxMUgvtpqmrCKVvqAAAH found transport: 0cdb773b-603d-4318-a150-471fbeebaa4d
2025-06-11T15:43:22.992Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 0cdb773b-603d-4318-a150-471fbeebaa4d for socket sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:23.001Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"9321e9a0-ad52-4486-bb10-849ee2e065a7","socketId":"sxMUgvtpqmrCKVvqAAAH","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":11875859,"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:22.993Z [DEBUG] [mediasoup-server]: Successfully produced audio with id 9321e9a0-ad52-4486-bb10-849ee2e065a7 on transport 0cdb773b-603d-4318-a150-471fbeebaa4d for socket sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:22.994Z [INFO] [mediasoup-server]: Piping producer 9321e9a0-ad52-4486-bb10-849ee2e065a7 (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:22.994Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 9321e9a0-ad52-4486-bb10-849ee2e065a7
2025-06-11T15:43:22.994Z [INFO] [mediasoup-server]: Producer 9321e9a0-ad52-4486-bb10-849ee2e065a7 created for peer sxMUgvtpqmrCKVvqAAAH, kind: audio
2025-06-11T15:43:22.999Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 9321e9a0-ad52-4486-bb10-849ee2e065a7
2025-06-11T15:43:22.999Z [INFO] [mediasoup-server]: Handshake complete, attempting immediate pipe for producer 9321e9a0-ad52-4486-bb10-849ee2e065a7
2025-06-11T15:43:22.999Z [INFO] [mediasoup-server]: Piping producer 9321e9a0-ad52-4486-bb10-849ee2e065a7 (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:23.000Z [INFO] [mediasoup-server]: Successfully piped producer 9321e9a0-ad52-4486-bb10-849ee2e065a7 to remote server with router 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:23.001Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"9321e9a0-ad52-4486-bb10-849ee2e065a7","socketId":"sxMUgvtpqmrCKVvqAAAH","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":11875859,"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.001Z [INFO] [mediasoup-server]: Queueing notification for producer 9321e9a0-ad52-4486-bb10-849ee2e065a7 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:23.006Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"05074531-1bf5-4f41-94a6-553a4a44080c","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","targetRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","producerId":"9321e9a0-ad52-4486-bb10-849ee2e065a7","producerInfo":{"id":"9321e9a0-ad52-4486-bb10-849ee2e065a7","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":11875859,"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"9077130b-cfc3-45c6-886a-0b088455d749","ip":"127.0.0.1","port":10718},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:43:23.006Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"05074531-1bf5-4f41-94a6-553a4a44080c","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","targetRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","producerId":"9321e9a0-ad52-4486-bb10-849ee2e065a7","producerInfo":{"id":"9321e9a0-ad52-4486-bb10-849ee2e065a7","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":11875859,"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"9077130b-cfc3-45c6-886a-0b088455d749","ip":"127.0.0.1","port":10718},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:43:23.012Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:23.012Z [WARN] [mediasoup-server]: [pipeContext.createRemoteProducer] Producer undefined already exists. Returning existing.
2025-06-11T15:43:23.014Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"05074531-1bf5-4f41-94a6-553a4a44080c","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","targetRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","pipeTransportInfo":{"id":"6f434b54-bed3-4877-af15-a8e2439cdf50","ip":"127.0.0.1","port":10500}}
2025-06-11T15:43:23.013Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"05074531-1bf5-4f41-94a6-553a4a44080c","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","targetRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","pipeTransportInfo":{"id":"6f434b54-bed3-4877-af15-a8e2439cdf50","ip":"127.0.0.1","port":10500}}
2025-06-11T15:43:23.018Z [DEBUG] [mediasoup-server]: getTransport called for socketId: sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:23.018Z [DEBUG] [mediasoup-server]: getTransport for socketId sxMUgvtpqmrCKVvqAAAH found transport: 0cdb773b-603d-4318-a150-471fbeebaa4d
2025-06-11T15:43:23.018Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 0cdb773b-603d-4318-a150-471fbeebaa4d for socket sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:23.021Z [DEBUG] [mediasoup-server]: getTransport called for socketId: sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:23.021Z [DEBUG] [mediasoup-server]: getTransport for socketId sxMUgvtpqmrCKVvqAAAH found transport: 0cdb773b-603d-4318-a150-471fbeebaa4d
2025-06-11T15:43:23.021Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 0cdb773b-603d-4318-a150-471fbeebaa4d for socket sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:23.035Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","socketId":"sxMUgvtpqmrCKVvqAAAH","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2684178711,"rtx":{"ssrc":3259597400},"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.030Z [DEBUG] [mediasoup-server]: Successfully produced video with id f4d07c1f-e49a-4c3a-9476-118e92b84e5e on transport 0cdb773b-603d-4318-a150-471fbeebaa4d for socket sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:23.031Z [INFO] [mediasoup-server]: Piping producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:23.031Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e
2025-06-11T15:43:23.031Z [INFO] [mediasoup-server]: Producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e created for peer sxMUgvtpqmrCKVvqAAAH, kind: video
2025-06-11T15:43:23.032Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e
2025-06-11T15:43:23.032Z [INFO] [mediasoup-server]: Handshake complete, attempting immediate pipe for producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e
2025-06-11T15:43:23.032Z [INFO] [mediasoup-server]: Piping producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:23.034Z [INFO] [mediasoup-server]: Successfully piped producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e to remote server with router 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:23.034Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","socketId":"sxMUgvtpqmrCKVvqAAAH","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2684178711,"rtx":{"ssrc":3259597400},"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.035Z [INFO] [mediasoup-server]: Queueing notification for producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:23.036Z [INFO] [mediasoup-server]: Successfully piped producer 9321e9a0-ad52-4486-bb10-849ee2e065a7 to remote server with router 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:23.036Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"9321e9a0-ad52-4486-bb10-849ee2e065a7","socketId":"sxMUgvtpqmrCKVvqAAAH","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":11875859,"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.036Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"9321e9a0-ad52-4486-bb10-849ee2e065a7","socketId":"sxMUgvtpqmrCKVvqAAAH","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":11875859,"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.036Z [INFO] [mediasoup-server]: Queueing notification for producer 9321e9a0-ad52-4486-bb10-849ee2e065a7 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:23.038Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"201eceb4-2859-48b9-908a-a910784c6b31","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","targetRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","producerId":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","producerInfo":{"id":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2684178711,"rtx":{"ssrc":3259597400},"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"a02e0f76-7c50-4bda-a8be-24c87e52be7a","ip":"127.0.0.1","port":10932},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:43:23.038Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"201eceb4-2859-48b9-908a-a910784c6b31","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","targetRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","producerId":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","producerInfo":{"id":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2684178711,"rtx":{"ssrc":3259597400},"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"a02e0f76-7c50-4bda-a8be-24c87e52be7a","ip":"127.0.0.1","port":10932},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:43:23.044Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:23.044Z [WARN] [mediasoup-server]: [pipeContext.createRemoteProducer] Producer undefined already exists. Returning existing.
2025-06-11T15:43:23.047Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"201eceb4-2859-48b9-908a-a910784c6b31","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","targetRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","pipeTransportInfo":{"id":"badb734b-3ea0-4659-8d32-7553fa0654b6","ip":"127.0.0.1","port":10218}}
2025-06-11T15:43:23.047Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"201eceb4-2859-48b9-908a-a910784c6b31","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","targetRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","pipeTransportInfo":{"id":"badb734b-3ea0-4659-8d32-7553fa0654b6","ip":"127.0.0.1","port":10218}}
2025-06-11T15:43:23.051Z [INFO] [mediasoup-server]: Successfully piped producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e to remote server with router 2bd6ffd7-a092-4c37-8611-23a5ba92d9f1
2025-06-11T15:43:23.051Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","socketId":"sxMUgvtpqmrCKVvqAAAH","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2684178711,"rtx":{"ssrc":3259597400},"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.051Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","socketId":"sxMUgvtpqmrCKVvqAAAH","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2684178711,"rtx":{"ssrc":3259597400},"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.051Z [INFO] [mediasoup-server]: Queueing notification for producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:23.118Z [INFO] [mediasoup-server]: Created new room: 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:23.119Z [INFO] [mediasoup-server]: Processing 8 pending notifications for room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:23.119Z [DEBUG] [mediasoup-server]: Received remote pipe notification: {"type":"new-producer-piped","producerId":"4004c05e-cb69-4054-a169-5a3cc8b4360f","socketId":"XTy58AfpjHfmLX7xAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3865845220,"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.119Z [INFO] [mediasoup-server]: Adding remote piped producer 4004c05e-cb69-4054-a169-5a3cc8b4360f to local producers list
2025-06-11T15:43:23.119Z [DEBUG] [mediasoup-server]: Received remote pipe notification: {"type":"new-producer-piped","producerId":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","socketId":"XTy58AfpjHfmLX7xAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2873653487,"rtx":{"ssrc":1279547905},"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.119Z [INFO] [mediasoup-server]: Adding remote piped producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 to local producers list
2025-06-11T15:43:23.120Z [DEBUG] [mediasoup-server]: Received remote pipe notification: {"type":"new-producer-piped","producerId":"4004c05e-cb69-4054-a169-5a3cc8b4360f","socketId":"XTy58AfpjHfmLX7xAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":3865845220,"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.120Z [DEBUG] [mediasoup-server]: Received remote pipe notification: {"type":"new-producer-piped","producerId":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","socketId":"XTy58AfpjHfmLX7xAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2873653487,"rtx":{"ssrc":1279547905},"dtx":false}],"rtcp":{"cname":"gb56e1Un4NHAQRas","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.120Z [DEBUG] [mediasoup-server]: Received remote pipe notification: {"type":"new-producer-piped","producerId":"9321e9a0-ad52-4486-bb10-849ee2e065a7","socketId":"sxMUgvtpqmrCKVvqAAAH","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":11875859,"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.120Z [INFO] [mediasoup-server]: Adding remote piped producer 9321e9a0-ad52-4486-bb10-849ee2e065a7 to local producers list
2025-06-11T15:43:23.120Z [DEBUG] [mediasoup-server]: Received remote pipe notification: {"type":"new-producer-piped","producerId":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","socketId":"sxMUgvtpqmrCKVvqAAAH","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2684178711,"rtx":{"ssrc":3259597400},"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.120Z [INFO] [mediasoup-server]: Adding remote piped producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e to local producers list
2025-06-11T15:43:23.120Z [DEBUG] [mediasoup-server]: Received remote pipe notification: {"type":"new-producer-piped","producerId":"9321e9a0-ad52-4486-bb10-849ee2e065a7","socketId":"sxMUgvtpqmrCKVvqAAAH","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":11875859,"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.120Z [DEBUG] [mediasoup-server]: Received remote pipe notification: {"type":"new-producer-piped","producerId":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","socketId":"sxMUgvtpqmrCKVvqAAAH","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2684178711,"rtx":{"ssrc":3259597400},"dtx":false}],"rtcp":{"cname":"ytXma0/m4taTgpki","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T15:43:23.121Z [DEBUG] [mediasoup-server]: Returning 5 producers in room 66d235c6c9b3cadc2af8f81c to peer 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.159Z [DEBUG] [mediasoup-server]: Returning 5 producers to peer 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.164Z [DEBUG] [mediasoup-server]: Created WebRTC transport 8948f637-bc82-4a84-a67f-2dfe2c90ed8c for peer 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.164Z [DEBUG] [mediasoup-server]: Current transports on server after adding 8948f637-bc82-4a84-a67f-2dfe2c90ed8c: [ '8948f637-bc82-4a84-a67f-2dfe2c90ed8c', [length]: 1 ]
2025-06-11T15:43:23.179Z [DEBUG] [mediasoup-server]: Created WebRTC transport 5bc60b34-355a-434d-91b0-ea0d8dd48437 for peer 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.179Z [DEBUG] [mediasoup-server]: Current transports on server after adding 5bc60b34-355a-434d-91b0-ea0d8dd48437: [
  '8948f637-bc82-4a84-a67f-2dfe2c90ed8c',
  '5bc60b34-355a-434d-91b0-ea0d8dd48437',
  [length]: 2
]
2025-06-11T15:43:23.188Z [INFO] [mediasoup-server]: Received transport-connect for transportId 8948f637-bc82-4a84-a67f-2dfe2c90ed8c
2025-06-11T15:43:23.189Z [DEBUG] [mediasoup-server]: Connecting transport 8948f637-bc82-4a84-a67f-2dfe2c90ed8c with DTLS parameters
2025-06-11T15:43:23.192Z [INFO] [mediasoup-server]: Transport 8948f637-bc82-4a84-a67f-2dfe2c90ed8c connected successfully
2025-06-11T15:43:23.193Z [DEBUG] [mediasoup-server]: Created WebRTC transport 5a798b1f-4018-47ba-b601-b339305d1fac for peer 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.193Z [DEBUG] [mediasoup-server]: Current transports on server after adding 5a798b1f-4018-47ba-b601-b339305d1fac: [
  '8948f637-bc82-4a84-a67f-2dfe2c90ed8c',
  '5bc60b34-355a-434d-91b0-ea0d8dd48437',
  '5a798b1f-4018-47ba-b601-b339305d1fac',
  [length]: 3
]
2025-06-11T15:43:23.201Z [DEBUG] [mediasoup-server]: Created WebRTC transport a944c864-c2e2-42ed-8677-91f6b24f27ee for peer 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.201Z [DEBUG] [mediasoup-server]: Current transports on server after adding a944c864-c2e2-42ed-8677-91f6b24f27ee: [
  '8948f637-bc82-4a84-a67f-2dfe2c90ed8c',
  '5bc60b34-355a-434d-91b0-ea0d8dd48437',
  '5a798b1f-4018-47ba-b601-b339305d1fac',
  'a944c864-c2e2-42ed-8677-91f6b24f27ee',
  [length]: 4
]
2025-06-11T15:43:23.203Z [DEBUG] [mediasoup-server]: Created WebRTC transport 0922e416-c6fb-4601-843e-9e877f1d99dd for peer 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.203Z [DEBUG] [mediasoup-server]: Current transports on server after adding 0922e416-c6fb-4601-843e-9e877f1d99dd: [
  '8948f637-bc82-4a84-a67f-2dfe2c90ed8c',
  '5bc60b34-355a-434d-91b0-ea0d8dd48437',
  '5a798b1f-4018-47ba-b601-b339305d1fac',
  'a944c864-c2e2-42ed-8677-91f6b24f27ee',
  '0922e416-c6fb-4601-843e-9e877f1d99dd',
  [length]: 5
]
2025-06-11T15:43:23.209Z [DEBUG] [mediasoup-server]: 'consume' event received for socket: 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.209Z [DEBUG] [mediasoup-server]:   remoteProducerId: 4004c05e-cb69-4054-a169-5a3cc8b4360f
2025-06-11T15:43:23.210Z [DEBUG] [mediasoup-server]:   serverConsumerTransportId: 5bc60b34-355a-434d-91b0-ea0d8dd48437
2025-06-11T15:43:23.210Z [DEBUG] [mediasoup-server]:   rtpCapabilities: {
  codecs: [
    {
      mimeType: 'audio/opus',
      kind: 'audio',
      preferredPayloadType: 100,
      clockRate: 48000,
      channels: 2,
      parameters: { minptime: 10, useinbandfec: 1 },
      rtcpFeedback: [
        { type: 'transport-cc', parameter: '' },
        { type: 'nack', parameter: '' },
        [length]: 2
      ]
    },
    {
      mimeType: 'video/VP8',
      kind: 'video',
      preferredPayloadType: 101,
      clockRate: 90000,
      parameters: {},
      rtcpFeedback: [
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        [length]: 5
      ]
    },
    {
      mimeType: 'video/rtx',
      kind: 'video',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 9
  ]
}
2025-06-11T15:43:23.212Z [DEBUG] [mediasoup-server]: Consuming producer 4004c05e-cb69-4054-a169-5a3cc8b4360f (isPiped: true)
2025-06-11T15:43:23.217Z [DEBUG] [mediasoup-server]: getTransport called for socketId: 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.217Z [DEBUG] [mediasoup-server]: getTransport for socketId 0v_WBo08jZizEuj3AAAB found transport: 8948f637-bc82-4a84-a67f-2dfe2c90ed8c
2025-06-11T15:43:23.217Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 8948f637-bc82-4a84-a67f-2dfe2c90ed8c for socket 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.220Z [DEBUG] [mediasoup-server]: getTransport called for socketId: 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.220Z [DEBUG] [mediasoup-server]: getTransport for socketId 0v_WBo08jZizEuj3AAAB found transport: 8948f637-bc82-4a84-a67f-2dfe2c90ed8c
2025-06-11T15:43:23.220Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 8948f637-bc82-4a84-a67f-2dfe2c90ed8c for socket 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.224Z [DEBUG] [mediasoup-server]: 'consume' event received for socket: 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.224Z [DEBUG] [mediasoup-server]:   remoteProducerId: ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0
2025-06-11T15:43:23.224Z [DEBUG] [mediasoup-server]:   serverConsumerTransportId: 5a798b1f-4018-47ba-b601-b339305d1fac
2025-06-11T15:43:23.224Z [DEBUG] [mediasoup-server]:   rtpCapabilities: {
  codecs: [
    {
      mimeType: 'audio/opus',
      kind: 'audio',
      preferredPayloadType: 100,
      clockRate: 48000,
      channels: 2,
      parameters: { minptime: 10, useinbandfec: 1 },
      rtcpFeedback: [
        { type: 'transport-cc', parameter: '' },
        { type: 'nack', parameter: '' },
        [length]: 2
      ]
    },
    {
      mimeType: 'video/VP8',
      kind: 'video',
      preferredPayloadType: 101,
      clockRate: 90000,
      parameters: {},
      rtcpFeedback: [
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        [length]: 5
      ]
    },
    {
      mimeType: 'video/rtx',
      kind: 'video',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 9
  ]
}
2025-06-11T15:43:23.226Z [DEBUG] [mediasoup-server]: Consuming producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 (isPiped: true)
2025-06-11T15:43:23.235Z [DEBUG] [mediasoup-server]: 'consume' event received for socket: 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.235Z [DEBUG] [mediasoup-server]:   remoteProducerId: 9321e9a0-ad52-4486-bb10-849ee2e065a7
2025-06-11T15:43:23.235Z [DEBUG] [mediasoup-server]:   serverConsumerTransportId: a944c864-c2e2-42ed-8677-91f6b24f27ee
2025-06-11T15:43:23.235Z [DEBUG] [mediasoup-server]:   rtpCapabilities: {
  codecs: [
    {
      mimeType: 'audio/opus',
      kind: 'audio',
      preferredPayloadType: 100,
      clockRate: 48000,
      channels: 2,
      parameters: { minptime: 10, useinbandfec: 1 },
      rtcpFeedback: [
        { type: 'transport-cc', parameter: '' },
        { type: 'nack', parameter: '' },
        [length]: 2
      ]
    },
    {
      mimeType: 'video/VP8',
      kind: 'video',
      preferredPayloadType: 101,
      clockRate: 90000,
      parameters: {},
      rtcpFeedback: [
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        [length]: 5
      ]
    },
    {
      mimeType: 'video/rtx',
      kind: 'video',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 9
  ]
}
2025-06-11T15:43:23.235Z [DEBUG] [mediasoup-server]: Consuming producer 9321e9a0-ad52-4486-bb10-849ee2e065a7 (isPiped: true)
2025-06-11T15:43:23.239Z [DEBUG] [mediasoup-server]: 'consume' event received for socket: 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.239Z [DEBUG] [mediasoup-server]:   remoteProducerId: f4d07c1f-e49a-4c3a-9476-118e92b84e5e
2025-06-11T15:43:23.239Z [DEBUG] [mediasoup-server]:   serverConsumerTransportId: 0922e416-c6fb-4601-843e-9e877f1d99dd
2025-06-11T15:43:23.239Z [DEBUG] [mediasoup-server]:   rtpCapabilities: {
  codecs: [
    {
      mimeType: 'audio/opus',
      kind: 'audio',
      preferredPayloadType: 100,
      clockRate: 48000,
      channels: 2,
      parameters: { minptime: 10, useinbandfec: 1 },
      rtcpFeedback: [
        { type: 'transport-cc', parameter: '' },
        { type: 'nack', parameter: '' },
        [length]: 2
      ]
    },
    {
      mimeType: 'video/VP8',
      kind: 'video',
      preferredPayloadType: 101,
      clockRate: 90000,
      parameters: {},
      rtcpFeedback: [
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        [length]: 5
      ]
    },
    {
      mimeType: 'video/rtx',
      kind: 'video',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 9
  ]
}
2025-06-11T15:43:23.240Z [DEBUG] [mediasoup-server]: Consuming producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e (isPiped: true)
2025-06-11T15:43:23.243Z [DEBUG] [mediasoup-server]: Consumer 1adbba93-89af-415f-b536-8f6aaabd8136 created for peer 0v_WBo08jZizEuj3AAAB, producer: 4004c05e-cb69-4054-a169-5a3cc8b4360f
2025-06-11T15:43:23.265Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"dd3719cb-db50-4a40-9f67-9afac0003738","socketId":"0v_WBo08jZizEuj3AAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2337553861,"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"sourceServerId":"server-2","paused":false}
2025-06-11T15:43:23.249Z [DEBUG] [mediasoup-server]: Successfully produced audio with id dd3719cb-db50-4a40-9f67-9afac0003738 on transport 8948f637-bc82-4a84-a67f-2dfe2c90ed8c for socket 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.249Z [INFO] [mediasoup-server]: Piping producer dd3719cb-db50-4a40-9f67-9afac0003738 (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 29a9dd14-0a3b-40a7-9f98-880e7d2ce94f
2025-06-11T15:43:23.250Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer dd3719cb-db50-4a40-9f67-9afac0003738
2025-06-11T15:43:23.250Z [INFO] [mediasoup-server]: Producer dd3719cb-db50-4a40-9f67-9afac0003738 created for peer 0v_WBo08jZizEuj3AAAB, kind: audio
2025-06-11T15:43:23.251Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer dd3719cb-db50-4a40-9f67-9afac0003738
2025-06-11T15:43:23.251Z [INFO] [mediasoup-server]: Handshake complete, attempting immediate pipe for producer dd3719cb-db50-4a40-9f67-9afac0003738
2025-06-11T15:43:23.251Z [INFO] [mediasoup-server]: Piping producer dd3719cb-db50-4a40-9f67-9afac0003738 (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 29a9dd14-0a3b-40a7-9f98-880e7d2ce94f
2025-06-11T15:43:23.252Z [DEBUG] [mediasoup-server]: Consumer a829c8d4-0aa5-47bb-8375-ee84967a87c6 created for peer 0v_WBo08jZizEuj3AAAB, producer: ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0
2025-06-11T15:43:23.254Z [DEBUG] [mediasoup-server]: Consumer 8966f6c2-0418-41c3-be6f-877f11cb2798 created for peer 0v_WBo08jZizEuj3AAAB, producer: 9321e9a0-ad52-4486-bb10-849ee2e065a7
2025-06-11T15:43:23.255Z [DEBUG] [mediasoup-server]: Consumer 83255cff-42d3-44f8-b241-15022efd313d created for peer 0v_WBo08jZizEuj3AAAB, producer: f4d07c1f-e49a-4c3a-9476-118e92b84e5e
2025-06-11T15:43:23.264Z [INFO] [mediasoup-server]: Successfully piped producer dd3719cb-db50-4a40-9f67-9afac0003738 to remote server with router 29a9dd14-0a3b-40a7-9f98-880e7d2ce94f
2025-06-11T15:43:23.264Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"new-producer-piped","producerId":"dd3719cb-db50-4a40-9f67-9afac0003738","socketId":"0v_WBo08jZizEuj3AAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2337553861,"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"sourceServerId":"server-2","paused":false}
2025-06-11T15:43:23.265Z [DEBUG] [mediasoup-server]: Received remote pipe notification: {"type":"new-producer-piped","producerId":"dd3719cb-db50-4a40-9f67-9afac0003738","socketId":"0v_WBo08jZizEuj3AAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2337553861,"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"sourceServerId":"server-2","paused":false}
2025-06-11T15:43:23.265Z [INFO] [mediasoup-server]: Adding remote piped producer dd3719cb-db50-4a40-9f67-9afac0003738 to local producers list
2025-06-11T15:43:23.266Z [DEBUG] [mediasoup-server]: Notifying peer sxMUgvtpqmrCKVvqAAAH about piped producer dd3719cb-db50-4a40-9f67-9afac0003738
2025-06-11T15:43:23.276Z [DEBUG] [mediasoup-server]: Created WebRTC transport edd72ba4-92ef-49e5-9e8f-1e0aaf93829e for peer sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:23.276Z [DEBUG] [mediasoup-server]: Current transports on server after adding edd72ba4-92ef-49e5-9e8f-1e0aaf93829e: [
  '0cdb773b-603d-4318-a150-471fbeebaa4d',
  'edd72ba4-92ef-49e5-9e8f-1e0aaf93829e',
  [length]: 2
]
2025-06-11T15:43:23.269Z [INFO] [mediasoup-server]: Received transport-recv-connect for transportId 5bc60b34-355a-434d-91b0-ea0d8dd48437
2025-06-11T15:43:23.269Z [DEBUG] [mediasoup-server]: Connecting consumer transport 5bc60b34-355a-434d-91b0-ea0d8dd48437 with DTLS parameters
2025-06-11T15:43:23.281Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_initiate","correlationId":"de2ad87c-25ed-4ea3-b43d-4d99f7428d3d","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","targetRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","producerId":"dd3719cb-db50-4a40-9f67-9afac0003738","producerInfo":{"id":"dd3719cb-db50-4a40-9f67-9afac0003738","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2337553861,"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"cb4c359f-75ad-4533-8d68-a77fe02b4f7f","ip":"127.0.0.1","port":10089},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:43:23.282Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"de2ad87c-25ed-4ea3-b43d-4d99f7428d3d","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","targetRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","producerId":"dd3719cb-db50-4a40-9f67-9afac0003738","producerInfo":{"id":"dd3719cb-db50-4a40-9f67-9afac0003738","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2337553861,"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"cb4c359f-75ad-4533-8d68-a77fe02b4f7f","ip":"127.0.0.1","port":10089},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:43:23.282Z [INFO] [mediasoup-server]: Consumer transport 5bc60b34-355a-434d-91b0-ea0d8dd48437 connected successfully
2025-06-11T15:43:23.284Z [DEBUG] [mediasoup-server]: Consumer 1adbba93-89af-415f-b536-8f6aaabd8136 resumed
2025-06-11T15:43:23.297Z [DEBUG] [mediasoup-server]: 'consume' event received for socket: sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:23.299Z [DEBUG] [mediasoup-server]: getTransport called for socketId: 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.297Z [DEBUG] [mediasoup-server]:   remoteProducerId: dd3719cb-db50-4a40-9f67-9afac0003738
2025-06-11T15:43:23.297Z [DEBUG] [mediasoup-server]:   serverConsumerTransportId: edd72ba4-92ef-49e5-9e8f-1e0aaf93829e
2025-06-11T15:43:23.297Z [DEBUG] [mediasoup-server]:   rtpCapabilities: {
  codecs: [
    {
      mimeType: 'audio/opus',
      kind: 'audio',
      preferredPayloadType: 100,
      clockRate: 48000,
      channels: 2,
      parameters: { minptime: 10, useinbandfec: 1 },
      rtcpFeedback: [
        { type: 'transport-cc', parameter: '' },
        { type: 'nack', parameter: '' },
        [length]: 2
      ]
    },
    {
      mimeType: 'video/VP8',
      kind: 'video',
      preferredPayloadType: 101,
      clockRate: 90000,
      parameters: {},
      rtcpFeedback: [
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        [length]: 5
      ]
    },
    {
      mimeType: 'video/rtx',
      kind: 'video',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 9
  ]
}
2025-06-11T15:43:23.299Z [WARN] [mediasoup-server]: CONSUME_HANDLER: router.canConsume returned false for producer dd3719cb-db50-4a40-9f67-9afac0003738 by socket sxMUgvtpqmrCKVvqAAAH.
2025-06-11T15:43:23.299Z [WARN] [mediasoup-server]:   Provided rtpCapabilities: {
  codecs: [
    {
      mimeType: 'audio/opus',
      kind: 'audio',
      preferredPayloadType: 100,
      clockRate: 48000,
      channels: 2,
      parameters: { minptime: 10, useinbandfec: 1 },
      rtcpFeedback: [
        { type: 'transport-cc', parameter: '' },
        { type: 'nack', parameter: '' },
        [length]: 2
      ]
    },
    {
      mimeType: 'video/VP8',
      kind: 'video',
      preferredPayloadType: 101,
      clockRate: 90000,
      parameters: {},
      rtcpFeedback: [
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        [length]: 5
      ]
    },
    {
      mimeType: 'video/rtx',
      kind: 'video',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 9
  ]
}
2025-06-11T15:43:23.300Z [WARN] [mediasoup-server]:   Router's rtpCapabilities: {
  codecs: [
    {
      kind: 'audio',
      mimeType: 'audio/opus',
      clockRate: 48000,
      channels: 2,
      rtcpFeedback: [
        { type: 'nack', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        [length]: 2
      ],
      parameters: {},
      preferredPayloadType: 100
    },
    {
      kind: 'video',
      mimeType: 'video/VP8',
      clockRate: 90000,
      rtcpFeedback: [
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        [length]: 5
      ],
      parameters: { 'x-google-start-bitrate': 1000 },
      preferredPayloadType: 101
    },
    {
      kind: 'video',
      mimeType: 'video/rtx',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id',
      preferredId: 2,
      preferredEncrypt: false,
      direction: 'recvonly'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id',
      preferredId: 3,
      preferredEncrypt: false,
      direction: 'recvonly'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'recvonly'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://tools.ietf.org/html/draft-ietf-avtext-framemarking-07',
      preferredId: 6,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:framemarking',
      preferredId: 7,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time',
      preferredId: 13,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time',
      preferredId: 13,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 17
  ]
}
2025-06-11T15:43:23.314Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10601,"remoteIp":"127.0.0.1","remotePort":62034,"protocol":"tcp"}
2025-06-11T15:43:23.314Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:43:23.316Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:23.316Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Notifying peer undefined in room 66d235c6c9b3cadc2af8f81c about new remote producer undefined
2025-06-11T15:43:23.318Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Successfully created and registered proxy producer undefined
2025-06-11T15:43:23.320Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_confirm","correlationId":"de2ad87c-25ed-4ea3-b43d-4d99f7428d3d","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","targetRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","pipeTransportInfo":{"id":"4b6e120d-fc93-4437-97dd-31b27de03212","ip":"127.0.0.1","port":10528}}
2025-06-11T15:43:23.329Z [DEBUG] [mediasoup-server]: Producer 9321e9a0-ad52-4486-bb10-849ee2e065a7 score: [{"encodingIdx":0,"ssrc":11875859,"score":10}]
2025-06-11T15:43:23.330Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"request_origin_keyframe","producerId":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","roomName":"66d235c6c9b3cadc2af8f81c"}
2025-06-11T15:43:23.330Z [DEBUG] [mediasoup-server]: Received forwarded keyframe request for origin producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0
2025-06-11T15:43:23.330Z [WARN] [mediasoup-server]: Origin producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 not found for keyframe request
2025-06-11T15:43:23.332Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"request_origin_keyframe","producerId":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","roomName":"66d235c6c9b3cadc2af8f81c"}
2025-06-11T15:43:23.332Z [DEBUG] [mediasoup-server]: Received forwarded keyframe request for origin producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0
2025-06-11T15:43:23.332Z [WARN] [mediasoup-server]: Origin producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 not found for keyframe request
2025-06-11T15:43:23.345Z [DEBUG] [mediasoup-server]: Producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e score: [{"encodingIdx":0,"ssrc":2684178711,"score":10}]
2025-06-11T15:43:23.349Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"request_origin_keyframe","producerId":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","roomName":"66d235c6c9b3cadc2af8f81c"}
2025-06-11T15:43:23.350Z [DEBUG] [mediasoup-server]: Received forwarded keyframe request for origin producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e
2025-06-11T15:43:23.350Z [WARN] [mediasoup-server]: Origin producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e does not have requestKeyFrame method
2025-06-11T15:43:23.352Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"request_origin_keyframe","producerId":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","roomName":"66d235c6c9b3cadc2af8f81c"}
2025-06-11T15:43:23.352Z [DEBUG] [mediasoup-server]: Received forwarded keyframe request for origin producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e
2025-06-11T15:43:23.352Z [WARN] [mediasoup-server]: Origin producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e does not have requestKeyFrame method
2025-06-11T15:43:23.353Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:43:23.299Z [DEBUG] [mediasoup-server]: getTransport for socketId 0v_WBo08jZizEuj3AAAB found transport: 8948f637-bc82-4a84-a67f-2dfe2c90ed8c
2025-06-11T15:43:23.299Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 8948f637-bc82-4a84-a67f-2dfe2c90ed8c for socket 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.314Z [DEBUG] [mediasoup-server]: getTransport called for socketId: 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.315Z [DEBUG] [mediasoup-server]: getTransport for socketId 0v_WBo08jZizEuj3AAAB found transport: 8948f637-bc82-4a84-a67f-2dfe2c90ed8c
2025-06-11T15:43:23.315Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 8948f637-bc82-4a84-a67f-2dfe2c90ed8c for socket 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.318Z [INFO] [mediasoup-server]: Received transport-recv-connect for transportId 5a798b1f-4018-47ba-b601-b339305d1fac
2025-06-11T15:43:23.319Z [DEBUG] [mediasoup-server]: Connecting consumer transport 5a798b1f-4018-47ba-b601-b339305d1fac with DTLS parameters
2025-06-11T15:43:23.322Z [INFO] [mediasoup-server]: Received transport-recv-connect for transportId a944c864-c2e2-42ed-8677-91f6b24f27ee
2025-06-11T15:43:23.322Z [DEBUG] [mediasoup-server]: Connecting consumer transport a944c864-c2e2-42ed-8677-91f6b24f27ee with DTLS parameters
2025-06-11T15:43:23.325Z [INFO] [mediasoup-server]: Received transport-recv-connect for transportId 0922e416-c6fb-4601-843e-9e877f1d99dd
2025-06-11T15:43:23.326Z [DEBUG] [mediasoup-server]: Connecting consumer transport 0922e416-c6fb-4601-843e-9e877f1d99dd with DTLS parameters
2025-06-11T15:43:23.328Z [DEBUG] [mediasoup-server]: Received 'request-keyframe' for producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 (client thinks isPiped: undefined)
2025-06-11T15:43:23.329Z [DEBUG] [mediasoup-server]: Forwarding keyframe request for piped producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 to origin server
2025-06-11T15:43:23.329Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"request_origin_keyframe","producerId":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","roomName":"66d235c6c9b3cadc2af8f81c"}
2025-06-11T15:43:23.331Z [DEBUG] [mediasoup-server]: Also trying local keyframe for piped producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0 as backup
2025-06-11T15:43:23.331Z [DEBUG] [mediasoup-server]: Key frame requested for remote producer ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0
2025-06-11T15:43:23.332Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"request_origin_keyframe","producerId":"ed2ecfc5-c01d-4125-8223-a3dfbd0b15d0","roomName":"66d235c6c9b3cadc2af8f81c"}
2025-06-11T15:43:23.348Z [DEBUG] [mediasoup-server]: Received 'request-keyframe' for producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e (client thinks isPiped: undefined)
2025-06-11T15:43:23.349Z [DEBUG] [mediasoup-server]: Forwarding keyframe request for piped producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e to origin server
2025-06-11T15:43:23.349Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"request_origin_keyframe","producerId":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","roomName":"66d235c6c9b3cadc2af8f81c"}
2025-06-11T15:43:23.350Z [DEBUG] [mediasoup-server]: Also trying local keyframe for piped producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e as backup
2025-06-11T15:43:23.350Z [DEBUG] [mediasoup-server]: Key frame requested for remote producer f4d07c1f-e49a-4c3a-9476-118e92b84e5e
2025-06-11T15:43:23.351Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"request_origin_keyframe","producerId":"f4d07c1f-e49a-4c3a-9476-118e92b84e5e","roomName":"66d235c6c9b3cadc2af8f81c"}
2025-06-11T15:43:23.360Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","socketId":"0v_WBo08jZizEuj3AAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1716179736,"rtx":{"ssrc":4127285698},"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"sourceServerId":"server-2","paused":false}
2025-06-11T15:43:23.356Z [DEBUG] [mediasoup-server]: Successfully produced video with id 3ae006fc-0fd7-400a-a40a-bda93b74b5bb on transport 8948f637-bc82-4a84-a67f-2dfe2c90ed8c for socket 0v_WBo08jZizEuj3AAAB
2025-06-11T15:43:23.356Z [INFO] [mediasoup-server]: Piping producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 29a9dd14-0a3b-40a7-9f98-880e7d2ce94f
2025-06-11T15:43:23.356Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb
2025-06-11T15:43:23.356Z [INFO] [mediasoup-server]: Producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb created for peer 0v_WBo08jZizEuj3AAAB, kind: video
2025-06-11T15:43:23.358Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb
2025-06-11T15:43:23.358Z [INFO] [mediasoup-server]: Handshake complete, attempting immediate pipe for producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb
2025-06-11T15:43:23.358Z [INFO] [mediasoup-server]: Piping producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 29a9dd14-0a3b-40a7-9f98-880e7d2ce94f
2025-06-11T15:43:23.360Z [INFO] [mediasoup-server]: Successfully piped producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb to remote server with router 29a9dd14-0a3b-40a7-9f98-880e7d2ce94f
2025-06-11T15:43:23.360Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"new-producer-piped","producerId":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","socketId":"0v_WBo08jZizEuj3AAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1716179736,"rtx":{"ssrc":4127285698},"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"sourceServerId":"server-2","paused":false}
2025-06-11T15:43:23.360Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"de2ad87c-25ed-4ea3-b43d-4d99f7428d3d","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","targetRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","pipeTransportInfo":{"id":"4b6e120d-fc93-4437-97dd-31b27de03212","ip":"127.0.0.1","port":10528}}
2025-06-11T15:43:23.361Z [DEBUG] [mediasoup-server]: Received remote pipe notification: {"type":"new-producer-piped","producerId":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","socketId":"0v_WBo08jZizEuj3AAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1716179736,"rtx":{"ssrc":4127285698},"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"sourceServerId":"server-2","paused":false}
2025-06-11T15:43:23.361Z [INFO] [mediasoup-server]: Adding remote piped producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb to local producers list
2025-06-11T15:43:23.380Z [DEBUG] [mediasoup-server]: Notifying peer sxMUgvtpqmrCKVvqAAAH about piped producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb
2025-06-11T15:43:23.376Z [INFO] [mediasoup-server]: Consumer transport 5a798b1f-4018-47ba-b601-b339305d1fac connected successfully
2025-06-11T15:43:23.377Z [INFO] [mediasoup-server]: Consumer transport a944c864-c2e2-42ed-8677-91f6b24f27ee connected successfully
2025-06-11T15:43:23.378Z [INFO] [mediasoup-server]: Consumer transport 0922e416-c6fb-4601-843e-9e877f1d99dd connected successfully
2025-06-11T15:43:23.380Z [DEBUG] [mediasoup-server]: Consumer a829c8d4-0aa5-47bb-8375-ee84967a87c6 resumed
2025-06-11T15:43:23.380Z [DEBUG] [mediasoup-server]: Consumer 8966f6c2-0418-41c3-be6f-877f11cb2798 resumed
2025-06-11T15:43:23.380Z [DEBUG] [mediasoup-server]: Consumer 83255cff-42d3-44f8-b241-15022efd313d resumed
2025-06-11T15:43:23.383Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_initiate","correlationId":"05ed1804-603f-4b0a-9970-f4c727c937fb","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","targetRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","producerId":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","producerInfo":{"id":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1716179736,"rtx":{"ssrc":4127285698},"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"34cd3df7-fa43-4eae-8d14-54bae9512df9","ip":"127.0.0.1","port":10267},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:43:23.387Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"05ed1804-603f-4b0a-9970-f4c727c937fb","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","targetRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","producerId":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","producerInfo":{"id":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1716179736,"rtx":{"ssrc":4127285698},"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"34cd3df7-fa43-4eae-8d14-54bae9512df9","ip":"127.0.0.1","port":10267},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T15:43:23.386Z [INFO] [mediasoup-server]: Successfully piped producer dd3719cb-db50-4a40-9f67-9afac0003738 to remote server with router 29a9dd14-0a3b-40a7-9f98-880e7d2ce94f
2025-06-11T15:43:23.387Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"new-producer-piped","producerId":"dd3719cb-db50-4a40-9f67-9afac0003738","socketId":"0v_WBo08jZizEuj3AAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2337553861,"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"sourceServerId":"server-2","paused":false}
2025-06-11T15:43:23.388Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"dd3719cb-db50-4a40-9f67-9afac0003738","socketId":"0v_WBo08jZizEuj3AAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2337553861,"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"sourceServerId":"server-2","paused":false}
2025-06-11T15:43:23.388Z [DEBUG] [mediasoup-server]: Received remote pipe notification: {"type":"new-producer-piped","producerId":"dd3719cb-db50-4a40-9f67-9afac0003738","socketId":"0v_WBo08jZizEuj3AAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":2337553861,"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"sourceServerId":"server-2","paused":false}
2025-06-11T15:43:23.388Z [DEBUG] [mediasoup-server]: Notifying peer sxMUgvtpqmrCKVvqAAAH about piped producer dd3719cb-db50-4a40-9f67-9afac0003738
2025-06-11T15:43:23.391Z [DEBUG] [mediasoup-server]: Created WebRTC transport c92283f7-d621-4255-9394-ebc024f9c9a6 for peer sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:23.391Z [DEBUG] [mediasoup-server]: Current transports on server after adding c92283f7-d621-4255-9394-ebc024f9c9a6: [
  '0cdb773b-603d-4318-a150-471fbeebaa4d',
  'edd72ba4-92ef-49e5-9e8f-1e0aaf93829e',
  'c92283f7-d621-4255-9394-ebc024f9c9a6',
  [length]: 3
]
2025-06-11T15:43:23.396Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T15:43:23.396Z [WARN] [mediasoup-server]: [pipeContext.createRemoteProducer] Producer undefined already exists. Returning existing.
2025-06-11T15:43:23.398Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10446,"remoteIp":"127.0.0.1","remotePort":62036,"protocol":"tcp"}
2025-06-11T15:43:23.399Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:43:23.399Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10322,"remoteIp":"127.0.0.1","remotePort":62038,"protocol":"tcp"}
2025-06-11T15:43:23.400Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:43:23.416Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"05ed1804-603f-4b0a-9970-f4c727c937fb","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","targetRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","pipeTransportInfo":{"id":"f5c3def2-bd28-4d86-b1a5-db9494376a8d","ip":"127.0.0.1","port":10708}}
2025-06-11T15:43:23.420Z [INFO] [mediasoup-server]: Successfully piped producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb to remote server with router 29a9dd14-0a3b-40a7-9f98-880e7d2ce94f
2025-06-11T15:43:23.411Z [DEBUG] [mediasoup-server]: 'consume' event received for socket: sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:23.411Z [DEBUG] [mediasoup-server]:   remoteProducerId: 3ae006fc-0fd7-400a-a40a-bda93b74b5bb
2025-06-11T15:43:23.411Z [DEBUG] [mediasoup-server]:   serverConsumerTransportId: c92283f7-d621-4255-9394-ebc024f9c9a6
2025-06-11T15:43:23.411Z [DEBUG] [mediasoup-server]:   rtpCapabilities: {
  codecs: [
    {
      mimeType: 'audio/opus',
      kind: 'audio',
      preferredPayloadType: 100,
      clockRate: 48000,
      channels: 2,
      parameters: { minptime: 10, useinbandfec: 1 },
      rtcpFeedback: [
        { type: 'transport-cc', parameter: '' },
        { type: 'nack', parameter: '' },
        [length]: 2
      ]
    },
    {
      mimeType: 'video/VP8',
      kind: 'video',
      preferredPayloadType: 101,
      clockRate: 90000,
      parameters: {},
      rtcpFeedback: [
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        [length]: 5
      ]
    },
    {
      mimeType: 'video/rtx',
      kind: 'video',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 9
  ]
}
2025-06-11T15:43:23.412Z [DEBUG] [mediasoup-server]: Consuming producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb (isPiped: true)
2025-06-11T15:43:23.416Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_confirm","correlationId":"05ed1804-603f-4b0a-9970-f4c727c937fb","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"29a9dd14-0a3b-40a7-9f98-880e7d2ce94f","targetRouterId":"2bd6ffd7-a092-4c37-8611-23a5ba92d9f1","pipeTransportInfo":{"id":"f5c3def2-bd28-4d86-b1a5-db9494376a8d","ip":"127.0.0.1","port":10708}}
2025-06-11T15:43:23.416Z [DEBUG] [mediasoup-server]: Created WebRTC transport 87f31780-f77d-4f5f-b2cb-0b0692fab2a3 for peer sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:23.416Z [DEBUG] [mediasoup-server]: Current transports on server after adding 87f31780-f77d-4f5f-b2cb-0b0692fab2a3: [
  '0cdb773b-603d-4318-a150-471fbeebaa4d',
  'edd72ba4-92ef-49e5-9e8f-1e0aaf93829e',
  'c92283f7-d621-4255-9394-ebc024f9c9a6',
  '87f31780-f77d-4f5f-b2cb-0b0692fab2a3',
  [length]: 4
]
2025-06-11T15:43:23.420Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"new-producer-piped","producerId":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","socketId":"0v_WBo08jZizEuj3AAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1716179736,"rtx":{"ssrc":4127285698},"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"sourceServerId":"server-2","paused":false}
2025-06-11T15:43:23.421Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","socketId":"0v_WBo08jZizEuj3AAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1716179736,"rtx":{"ssrc":4127285698},"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"sourceServerId":"server-2","paused":false}
2025-06-11T15:43:23.421Z [DEBUG] [mediasoup-server]: Received remote pipe notification: {"type":"new-producer-piped","producerId":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","socketId":"0v_WBo08jZizEuj3AAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1716179736,"rtx":{"ssrc":4127285698},"dtx":false}],"rtcp":{"cname":"J2FWT1K7sq1sN8cY","reducedSize":true}},"sourceServerId":"server-2","paused":false}
2025-06-11T15:43:23.421Z [DEBUG] [mediasoup-server]: Notifying peer sxMUgvtpqmrCKVvqAAAH about piped producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb
2025-06-11T15:43:23.423Z [DEBUG] [mediasoup-server]: Consumer 5dad5398-6910-401d-a742-4c113d589bd4 created for peer sxMUgvtpqmrCKVvqAAAH, producer: 3ae006fc-0fd7-400a-a40a-bda93b74b5bb
2025-06-11T15:43:23.436Z [DEBUG] [mediasoup-server]: Producer dd3719cb-db50-4a40-9f67-9afac0003738 score: [{"encodingIdx":0,"ssrc":2337553861,"score":10}]
2025-06-11T15:43:23.446Z [DEBUG] [mediasoup-server]: Producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb score: [{"encodingIdx":0,"ssrc":1716179736,"score":10}]
2025-06-11T15:43:23.453Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"request_origin_keyframe","producerId":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","roomName":"66d235c6c9b3cadc2af8f81c"}
2025-06-11T15:43:23.453Z [DEBUG] [mediasoup-server]: Received forwarded keyframe request for origin producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb
2025-06-11T15:43:23.453Z [WARN] [mediasoup-server]: Origin producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb does not have requestKeyFrame method
2025-06-11T15:43:23.454Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"request_origin_keyframe","producerId":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","roomName":"66d235c6c9b3cadc2af8f81c"}
2025-06-11T15:43:23.454Z [DEBUG] [mediasoup-server]: Received forwarded keyframe request for origin producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb
2025-06-11T15:43:23.455Z [WARN] [mediasoup-server]: Origin producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb does not have requestKeyFrame method
2025-06-11T15:43:23.438Z [DEBUG] [mediasoup-server]: 'consume' event received for socket: sxMUgvtpqmrCKVvqAAAH
2025-06-11T15:43:23.438Z [DEBUG] [mediasoup-server]:   remoteProducerId: dd3719cb-db50-4a40-9f67-9afac0003738
2025-06-11T15:43:23.438Z [DEBUG] [mediasoup-server]:   serverConsumerTransportId: 87f31780-f77d-4f5f-b2cb-0b0692fab2a3
2025-06-11T15:43:23.438Z [DEBUG] [mediasoup-server]:   rtpCapabilities: {
  codecs: [
    {
      mimeType: 'audio/opus',
      kind: 'audio',
      preferredPayloadType: 100,
      clockRate: 48000,
      channels: 2,
      parameters: { minptime: 10, useinbandfec: 1 },
      rtcpFeedback: [
        { type: 'transport-cc', parameter: '' },
        { type: 'nack', parameter: '' },
        [length]: 2
      ]
    },
    {
      mimeType: 'video/VP8',
      kind: 'video',
      preferredPayloadType: 101,
      clockRate: 90000,
      parameters: {},
      rtcpFeedback: [
        { type: 'goog-remb', parameter: '' },
        { type: 'transport-cc', parameter: '' },
        { type: 'ccm', parameter: 'fir' },
        { type: 'nack', parameter: '' },
        { type: 'nack', parameter: 'pli' },
        [length]: 5
      ]
    },
    {
      mimeType: 'video/rtx',
      kind: 'video',
      preferredPayloadType: 102,
      clockRate: 90000,
      parameters: { apt: 101 },
      rtcpFeedback: [ [length]: 0 ]
    },
    [length]: 3
  ],
  headerExtensions: [
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:sdes:mid',
      preferredId: 1,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time',
      preferredId: 4,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01',
      preferredId: 5,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'audio',
      uri: 'urn:ietf:params:rtp-hdrext:ssrc-audio-level',
      preferredId: 10,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:3gpp:video-orientation',
      preferredId: 11,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'urn:ietf:params:rtp-hdrext:toffset',
      preferredId: 12,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    {
      kind: 'video',
      uri: 'http://www.webrtc.org/experiments/rtp-hdrext/playout-delay',
      preferredId: 14,
      preferredEncrypt: false,
      direction: 'sendrecv'
    },
    [length]: 9
  ]
}
2025-06-11T15:43:23.439Z [DEBUG] [mediasoup-server]: Consuming producer dd3719cb-db50-4a40-9f67-9afac0003738 (isPiped: true)
2025-06-11T15:43:23.442Z [INFO] [mediasoup-server]: Received transport-recv-connect for transportId c92283f7-d621-4255-9394-ebc024f9c9a6
2025-06-11T15:43:23.442Z [DEBUG] [mediasoup-server]: Connecting consumer transport c92283f7-d621-4255-9394-ebc024f9c9a6 with DTLS parameters
2025-06-11T15:43:23.451Z [DEBUG] [mediasoup-server]: Received 'request-keyframe' for producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb (client thinks isPiped: undefined)
2025-06-11T15:43:23.452Z [DEBUG] [mediasoup-server]: Forwarding keyframe request for piped producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb to origin server
2025-06-11T15:43:23.453Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"request_origin_keyframe","producerId":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","roomName":"66d235c6c9b3cadc2af8f81c"}
2025-06-11T15:43:23.453Z [DEBUG] [mediasoup-server]: Also trying local keyframe for piped producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb as backup
2025-06-11T15:43:23.454Z [DEBUG] [mediasoup-server]: Key frame requested for remote producer 3ae006fc-0fd7-400a-a40a-bda93b74b5bb
2025-06-11T15:43:23.454Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"request_origin_keyframe","producerId":"3ae006fc-0fd7-400a-a40a-bda93b74b5bb","roomName":"66d235c6c9b3cadc2af8f81c"}
2025-06-11T15:43:23.460Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10140,"remoteIp":"127.0.0.1","remotePort":62040,"protocol":"tcp"}
2025-06-11T15:43:23.461Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:43:23.461Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10267,"remoteIp":"127.0.0.1","remotePort":62042,"protocol":"tcp"}
2025-06-11T15:43:23.462Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:43:23.462Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10742,"remoteIp":"127.0.0.1","remotePort":62044,"protocol":"tcp"}
2025-06-11T15:43:23.462Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:43:23.460Z [DEBUG] [mediasoup-server]: Consumer 5a7c0f78-a8d4-42ef-ac47-1b7bc113f8ef created for peer sxMUgvtpqmrCKVvqAAAH, producer: dd3719cb-db50-4a40-9f67-9afac0003738
2025-06-11T15:43:23.463Z [INFO] [mediasoup-server]: Consumer transport c92283f7-d621-4255-9394-ebc024f9c9a6 connected successfully
2025-06-11T15:43:23.465Z [DEBUG] [mediasoup-server]: Consumer 5dad5398-6910-401d-a742-4c113d589bd4 resumed
2025-06-11T15:43:23.479Z [INFO] [mediasoup-server]: Received transport-recv-connect for transportId 87f31780-f77d-4f5f-b2cb-0b0692fab2a3
2025-06-11T15:43:23.480Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:43:23.480Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:43:23.480Z [DEBUG] [mediasoup-server]: Connecting consumer transport 87f31780-f77d-4f5f-b2cb-0b0692fab2a3 with DTLS parameters
2025-06-11T15:43:23.482Z [INFO] [mediasoup-server]: Consumer transport 87f31780-f77d-4f5f-b2cb-0b0692fab2a3 connected successfully
2025-06-11T15:43:23.484Z [DEBUG] [mediasoup-server]: Consumer 5a7c0f78-a8d4-42ef-ac47-1b7bc113f8ef resumed
2025-06-11T15:43:23.523Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:43:23.524Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:43:23.524Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:43:23.571Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10826,"remoteIp":"127.0.0.1","remotePort":62048,"protocol":"tcp"}
2025-06-11T15:43:23.571Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:43:23.633Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:43:23.664Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10091,"remoteIp":"127.0.0.1","remotePort":62050,"protocol":"tcp"}
2025-06-11T15:43:23.664Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T15:43:23.742Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T15:43:57.207Z [INFO] [mediasoup-server]: Received SIGINT signal
2025-06-11T15:43:57.213Z [INFO] [mediasoup-server]: Disconnected from target server at ws://127.0.0.1:8080
2025-06-11T15:43:58.534Z [INFO] [mediasoup-server]: Received SIGINT signal
2025-06-11T16:05:14.364Z [INFO] [mediasoup-server]: WebSocket server listening on port 8080
2025-06-11T16:05:14.366Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8081
2025-06-11T16:05:14.387Z [ERROR] [mediasoup-server]: WebSocket client error: Error: connect ECONNREFUSED 127.0.0.1:8081
    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1636:16) {
  errno: -4078,
  code: 'ECONNREFUSED',
  syscall: 'connect',
  address: '127.0.0.1',
  port: 8081
}
2025-06-11T16:05:14.388Z [INFO] [mediasoup-server]: Disconnected from target server at ws://127.0.0.1:8081
2025-06-11T16:05:14.806Z [INFO] [mediasoup-server]: Peer connected: GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.812Z [INFO] [mediasoup-server]: Created new room: 66d235c6c9b3cadc2af8f81c
2025-06-11T16:05:14.812Z [DEBUG] [mediasoup-server]: Returning 0 producers in room 66d235c6c9b3cadc2af8f81c to peer GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.855Z [DEBUG] [mediasoup-server]: Returning 0 producers to peer GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.865Z [DEBUG] [mediasoup-server]: Created WebRTC transport 21697a69-66af-491e-b340-1d6738ac7252 for peer GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.865Z [DEBUG] [mediasoup-server]: Current transports on server after adding 21697a69-66af-491e-b340-1d6738ac7252: [ '21697a69-66af-491e-b340-1d6738ac7252', [length]: 1 ]
2025-06-11T16:05:14.886Z [INFO] [mediasoup-server]: Received transport-connect for transportId 21697a69-66af-491e-b340-1d6738ac7252
2025-06-11T16:05:14.886Z [DEBUG] [mediasoup-server]: Connecting transport 21697a69-66af-491e-b340-1d6738ac7252 with DTLS parameters
2025-06-11T16:05:14.888Z [INFO] [mediasoup-server]: Transport 21697a69-66af-491e-b340-1d6738ac7252 connected successfully
2025-06-11T16:05:14.902Z [DEBUG] [mediasoup-server]: getTransport called for socketId: GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.902Z [DEBUG] [mediasoup-server]: getTransport for socketId GArodBMr2TW6cD-VAAAB found transport: 21697a69-66af-491e-b340-1d6738ac7252
2025-06-11T16:05:14.902Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 21697a69-66af-491e-b340-1d6738ac7252 for socket GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.918Z [DEBUG] [mediasoup-server]: getTransport called for socketId: GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.918Z [DEBUG] [mediasoup-server]: getTransport for socketId GArodBMr2TW6cD-VAAAB found transport: 21697a69-66af-491e-b340-1d6738ac7252
2025-06-11T16:05:14.918Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 21697a69-66af-491e-b340-1d6738ac7252 for socket GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.921Z [DEBUG] [mediasoup-server]: Successfully produced audio with id 138c9bc7-184f-4080-a37e-b520f6c043a1 on transport 21697a69-66af-491e-b340-1d6738ac7252 for socket GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.921Z [ERROR] [mediasoup-server]: Cannot pipe producer 138c9bc7-184f-4080-a37e-b520f6c043a1: No remote router ID available for server-2
2025-06-11T16:05:14.922Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 138c9bc7-184f-4080-a37e-b520f6c043a1
2025-06-11T16:05:14.922Z [INFO] [mediasoup-server]: Producer 138c9bc7-184f-4080-a37e-b520f6c043a1 created for peer GArodBMr2TW6cD-VAAAB, kind: audio
2025-06-11T16:05:14.925Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 138c9bc7-184f-4080-a37e-b520f6c043a1
2025-06-11T16:05:14.925Z [INFO] [mediasoup-server]: Handshake not yet complete for server-2, delaying pipe attempt for producer 138c9bc7-184f-4080-a37e-b520f6c043a1
2025-06-11T16:05:14.950Z [DEBUG] [mediasoup-server]: getTransport called for socketId: GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.950Z [DEBUG] [mediasoup-server]: getTransport for socketId GArodBMr2TW6cD-VAAAB found transport: 21697a69-66af-491e-b340-1d6738ac7252
2025-06-11T16:05:14.950Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 21697a69-66af-491e-b340-1d6738ac7252 for socket GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.961Z [DEBUG] [mediasoup-server]: getTransport called for socketId: GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.961Z [DEBUG] [mediasoup-server]: getTransport for socketId GArodBMr2TW6cD-VAAAB found transport: 21697a69-66af-491e-b340-1d6738ac7252
2025-06-11T16:05:14.961Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 21697a69-66af-491e-b340-1d6738ac7252 for socket GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.964Z [DEBUG] [mediasoup-server]: Successfully produced video with id 85c0b8f6-1bfa-4628-afe4-8ac53de68afc on transport 21697a69-66af-491e-b340-1d6738ac7252 for socket GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:14.964Z [ERROR] [mediasoup-server]: Cannot pipe producer 85c0b8f6-1bfa-4628-afe4-8ac53de68afc: No remote router ID available for server-2
2025-06-11T16:05:14.964Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 85c0b8f6-1bfa-4628-afe4-8ac53de68afc
2025-06-11T16:05:14.964Z [INFO] [mediasoup-server]: Producer 85c0b8f6-1bfa-4628-afe4-8ac53de68afc created for peer GArodBMr2TW6cD-VAAAB, kind: video
2025-06-11T16:05:14.967Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 85c0b8f6-1bfa-4628-afe4-8ac53de68afc
2025-06-11T16:05:14.967Z [INFO] [mediasoup-server]: Handshake not yet complete for server-2, delaying pipe attempt for producer 85c0b8f6-1bfa-4628-afe4-8ac53de68afc
2025-06-11T16:05:15.090Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10618,"remoteIp":"127.0.0.1","remotePort":57947,"protocol":"tcp"}
2025-06-11T16:05:15.091Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T16:05:15.113Z [DEBUG] [mediasoup-server]: Producer 138c9bc7-184f-4080-a37e-b520f6c043a1 score: [{"encodingIdx":0,"ssrc":1590743471,"score":10}]
2025-06-11T16:05:15.131Z [DEBUG] [mediasoup-server]: Producer 85c0b8f6-1bfa-4628-afe4-8ac53de68afc score: [{"encodingIdx":0,"ssrc":3318351676,"score":10}]
2025-06-11T16:05:15.160Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T16:05:19.394Z [INFO] [mediasoup-server]: Attempting to reconnect to target server...
2025-06-11T16:05:19.373Z [INFO] [mediasoup-server]: WebSocket server listening on port 8081
2025-06-11T16:05:19.375Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8080
2025-06-11T16:05:19.394Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8081
2025-06-11T16:05:19.397Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T16:05:19.400Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T16:05:19.400Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8081
2025-06-11T16:05:19.401Z [INFO] [mediasoup-server]: Sending router handshake to server-2: 9c52a1bc-a1a9-43e1-b82c-4b425ba20047
2025-06-11T16:05:19.402Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8080
2025-06-11T16:05:19.403Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T16:05:19.405Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"9c52a1bc-a1a9-43e1-b82c-4b425ba20047","serverId":"server-1","timestamp":1749657919401}
2025-06-11T16:05:19.405Z [ERROR] [mediasoup-server]: Error processing WebSocket message: ReferenceError: Cannot access 'processIncomingMessage' before initialization
    at WebSocket.<anonymous> (D:\Work\v0clone\blogforcontent\Biscord - Copy\backend\mediasoupServer\simpleSocket.js:63:13)
    at WebSocket.emit (node:events:518:28)
    at Receiver.receiverOnMessage (D:\Work\v0clone\blogforcontent\Biscord - Copy\backend\mediasoupServer\node_modules\ws\lib\websocket.js:1178:20)
    at Receiver.emit (node:events:518:28)
    at Receiver.dataMessage (D:\Work\v0clone\blogforcontent\Biscord - Copy\backend\mediasoupServer\node_modules\ws\lib\receiver.js:528:14)
    at Receiver.getData (D:\Work\v0clone\blogforcontent\Biscord - Copy\backend\mediasoupServer\node_modules\ws\lib\receiver.js:446:17)
    at Receiver.startLoop (D:\Work\v0clone\blogforcontent\Biscord - Copy\backend\mediasoupServer\node_modules\ws\lib\receiver.js:148:22)
    at Receiver._write (D:\Work\v0clone\blogforcontent\Biscord - Copy\backend\mediasoupServer\node_modules\ws\lib\receiver.js:83:10)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
2025-06-11T16:05:23.237Z [INFO] [mediasoup-server]: Peer connected: FPcbj-SIDxASd61QAAAB
2025-06-11T16:05:23.805Z [INFO] [mediasoup-server]: Peer disconnected: GArodBMr2TW6cD-VAAAB
2025-06-11T16:05:23.805Z [INFO] [mediasoup-server]: Room 66d235c6c9b3cadc2af8f81c deleted (no peers remaining)
2025-06-11T16:05:24.417Z [INFO] [mediasoup-server]: Sending periodic router handshake to server-1
2025-06-11T16:05:24.418Z [INFO] [mediasoup-server]: Sending periodic router handshake to server-2
2025-06-11T16:05:24.418Z [INFO] [mediasoup-server]: Sending router handshake to server-2: 9c52a1bc-a1a9-43e1-b82c-4b425ba20047
2025-06-11T16:05:24.418Z [INFO] [mediasoup-server]: Sending router handshake to server-1: 26491a7c-56be-4239-97ce-c64104d555e7
2025-06-11T16:05:24.420Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"9c52a1bc-a1a9-43e1-b82c-4b425ba20047","serverId":"server-1","timestamp":1749657924418}
2025-06-11T16:05:24.421Z [INFO] [mediasoup-server]: Received router ID 9c52a1bc-a1a9-43e1-b82c-4b425ba20047 from server server-1
2025-06-11T16:05:24.422Z [INFO] [mediasoup-server]: Sending router handshake acknowledgment to server-1
2025-06-11T16:05:24.426Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake_ack","routerId":"9c52a1bc-a1a9-43e1-b82c-4b425ba20047","serverId":"server-1","receivedRouterId":"26491a7c-56be-4239-97ce-c64104d555e7","timestamp":1749657924425}
2025-06-11T16:05:24.427Z [INFO] [mediasoup-server]: Received handshake ack from server-1. They received our router ID 26491a7c-56be-4239-97ce-c64104d555e7
2025-06-11T16:05:24.423Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"26491a7c-56be-4239-97ce-c64104d555e7","serverId":"server-2","timestamp":1749657924418}
2025-06-11T16:05:24.424Z [INFO] [mediasoup-server]: Received router ID 26491a7c-56be-4239-97ce-c64104d555e7 from server server-2
2025-06-11T16:05:24.425Z [INFO] [mediasoup-server]: Sending router handshake acknowledgment to server-2
2025-06-11T16:05:24.426Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake_ack","routerId":"26491a7c-56be-4239-97ce-c64104d555e7","serverId":"server-2","receivedRouterId":"9c52a1bc-a1a9-43e1-b82c-4b425ba20047","timestamp":1749657924422}
2025-06-11T16:05:24.427Z [INFO] [mediasoup-server]: Received handshake ack from server-2. They received our router ID 9c52a1bc-a1a9-43e1-b82c-4b425ba20047
2025-06-11T16:05:24.473Z [INFO] [mediasoup-server]: Peer connected: FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:24.915Z [INFO] [mediasoup-server]: Created new room: 66d235c6c9b3cadc2af8f81c
2025-06-11T16:05:24.915Z [DEBUG] [mediasoup-server]: Returning 0 producers in room 66d235c6c9b3cadc2af8f81c to peer FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:24.986Z [DEBUG] [mediasoup-server]: Returning 0 producers to peer FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:24.998Z [DEBUG] [mediasoup-server]: Created WebRTC transport 9ca259d0-cd5a-45d1-80d7-1a840d4086c3 for peer FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:24.998Z [DEBUG] [mediasoup-server]: Current transports on server after adding 9ca259d0-cd5a-45d1-80d7-1a840d4086c3: [ '9ca259d0-cd5a-45d1-80d7-1a840d4086c3', [length]: 1 ]
2025-06-11T16:05:25.024Z [INFO] [mediasoup-server]: Received transport-connect for transportId 9ca259d0-cd5a-45d1-80d7-1a840d4086c3
2025-06-11T16:05:25.024Z [DEBUG] [mediasoup-server]: Connecting transport 9ca259d0-cd5a-45d1-80d7-1a840d4086c3 with DTLS parameters
2025-06-11T16:05:25.026Z [INFO] [mediasoup-server]: Transport 9ca259d0-cd5a-45d1-80d7-1a840d4086c3 connected successfully
2025-06-11T16:05:25.054Z [DEBUG] [mediasoup-server]: getTransport called for socketId: FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:25.055Z [DEBUG] [mediasoup-server]: getTransport for socketId FBeALAUMzaj0PKdOAAAD found transport: 9ca259d0-cd5a-45d1-80d7-1a840d4086c3
2025-06-11T16:05:25.055Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 9ca259d0-cd5a-45d1-80d7-1a840d4086c3 for socket FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:25.069Z [DEBUG] [mediasoup-server]: getTransport called for socketId: FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:25.069Z [DEBUG] [mediasoup-server]: getTransport for socketId FBeALAUMzaj0PKdOAAAD found transport: 9ca259d0-cd5a-45d1-80d7-1a840d4086c3
2025-06-11T16:05:25.069Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 9ca259d0-cd5a-45d1-80d7-1a840d4086c3 for socket FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:25.071Z [DEBUG] [mediasoup-server]: Successfully produced audio with id 1b6d829f-17ff-49aa-9079-6f3b8b695638 on transport 9ca259d0-cd5a-45d1-80d7-1a840d4086c3 for socket FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:25.072Z [INFO] [mediasoup-server]: Piping producer 1b6d829f-17ff-49aa-9079-6f3b8b695638 (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 26491a7c-56be-4239-97ce-c64104d555e7
2025-06-11T16:05:25.073Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 1b6d829f-17ff-49aa-9079-6f3b8b695638
2025-06-11T16:05:25.074Z [INFO] [mediasoup-server]: Producer 1b6d829f-17ff-49aa-9079-6f3b8b695638 created for peer FBeALAUMzaj0PKdOAAAD, kind: audio
2025-06-11T16:05:25.082Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 1b6d829f-17ff-49aa-9079-6f3b8b695638
2025-06-11T16:05:25.082Z [INFO] [mediasoup-server]: Handshake complete, attempting immediate pipe for producer 1b6d829f-17ff-49aa-9079-6f3b8b695638
2025-06-11T16:05:25.082Z [INFO] [mediasoup-server]: Piping producer 1b6d829f-17ff-49aa-9079-6f3b8b695638 (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 26491a7c-56be-4239-97ce-c64104d555e7
2025-06-11T16:05:25.088Z [INFO] [mediasoup-server]: Successfully piped producer 1b6d829f-17ff-49aa-9079-6f3b8b695638 to remote server with router 26491a7c-56be-4239-97ce-c64104d555e7
2025-06-11T16:05:25.089Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"1b6d829f-17ff-49aa-9079-6f3b8b695638","socketId":"FBeALAUMzaj0PKdOAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":886741517,"dtx":false}],"rtcp":{"cname":"enNvCkWJoQo6xfhe","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:05:25.090Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"1b6d829f-17ff-49aa-9079-6f3b8b695638","socketId":"FBeALAUMzaj0PKdOAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":886741517,"dtx":false}],"rtcp":{"cname":"enNvCkWJoQo6xfhe","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:05:25.090Z [INFO] [mediasoup-server]: Queueing notification for producer 1b6d829f-17ff-49aa-9079-6f3b8b695638 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:05:25.119Z [DEBUG] [mediasoup-server]: getTransport called for socketId: FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:25.156Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"e3b12e4d-49fc-422e-86f5-998d5302d07c","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"9c52a1bc-a1a9-43e1-b82c-4b425ba20047","targetRouterId":"26491a7c-56be-4239-97ce-c64104d555e7","producerId":"1b6d829f-17ff-49aa-9079-6f3b8b695638","producerInfo":{"id":"1b6d829f-17ff-49aa-9079-6f3b8b695638","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":886741517,"dtx":false}],"rtcp":{"cname":"enNvCkWJoQo6xfhe","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"3104ded1-f667-44c8-a637-562e4c59144b","ip":"127.0.0.1","port":10204},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T16:05:25.119Z [DEBUG] [mediasoup-server]: getTransport for socketId FBeALAUMzaj0PKdOAAAD found transport: 9ca259d0-cd5a-45d1-80d7-1a840d4086c3
2025-06-11T16:05:25.119Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 9ca259d0-cd5a-45d1-80d7-1a840d4086c3 for socket FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:25.147Z [DEBUG] [mediasoup-server]: getTransport called for socketId: FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:25.147Z [DEBUG] [mediasoup-server]: getTransport for socketId FBeALAUMzaj0PKdOAAAD found transport: 9ca259d0-cd5a-45d1-80d7-1a840d4086c3
2025-06-11T16:05:25.147Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 9ca259d0-cd5a-45d1-80d7-1a840d4086c3 for socket FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:25.155Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"e3b12e4d-49fc-422e-86f5-998d5302d07c","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"9c52a1bc-a1a9-43e1-b82c-4b425ba20047","targetRouterId":"26491a7c-56be-4239-97ce-c64104d555e7","producerId":"1b6d829f-17ff-49aa-9079-6f3b8b695638","producerInfo":{"id":"1b6d829f-17ff-49aa-9079-6f3b8b695638","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":886741517,"dtx":false}],"rtcp":{"cname":"enNvCkWJoQo6xfhe","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"3104ded1-f667-44c8-a637-562e4c59144b","ip":"127.0.0.1","port":10204},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T16:05:25.155Z [DEBUG] [mediasoup-server]: Successfully produced video with id 87f87ba9-0118-4177-b3b9-5ee2684a2378 on transport 9ca259d0-cd5a-45d1-80d7-1a840d4086c3 for socket FBeALAUMzaj0PKdOAAAD
2025-06-11T16:05:25.155Z [INFO] [mediasoup-server]: Piping producer 87f87ba9-0118-4177-b3b9-5ee2684a2378 (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 26491a7c-56be-4239-97ce-c64104d555e7
2025-06-11T16:05:25.156Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 87f87ba9-0118-4177-b3b9-5ee2684a2378
2025-06-11T16:05:25.156Z [INFO] [mediasoup-server]: Producer 87f87ba9-0118-4177-b3b9-5ee2684a2378 created for peer FBeALAUMzaj0PKdOAAAD, kind: video
2025-06-11T16:05:25.161Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 87f87ba9-0118-4177-b3b9-5ee2684a2378
2025-06-11T16:05:25.161Z [INFO] [mediasoup-server]: Handshake complete, attempting immediate pipe for producer 87f87ba9-0118-4177-b3b9-5ee2684a2378
2025-06-11T16:05:25.162Z [INFO] [mediasoup-server]: Piping producer 87f87ba9-0118-4177-b3b9-5ee2684a2378 (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 26491a7c-56be-4239-97ce-c64104d555e7
2025-06-11T16:05:25.164Z [INFO] [mediasoup-server]: Successfully piped producer 87f87ba9-0118-4177-b3b9-5ee2684a2378 to remote server with router 26491a7c-56be-4239-97ce-c64104d555e7
2025-06-11T16:05:25.166Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"87f87ba9-0118-4177-b3b9-5ee2684a2378","socketId":"FBeALAUMzaj0PKdOAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1528091674,"rtx":{"ssrc":4150324285},"dtx":false}],"rtcp":{"cname":"enNvCkWJoQo6xfhe","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:05:25.167Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10847,"remoteIp":"127.0.0.1","remotePort":58002,"protocol":"tcp"}
2025-06-11T16:05:25.167Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T16:05:25.177Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"87f87ba9-0118-4177-b3b9-5ee2684a2378","socketId":"FBeALAUMzaj0PKdOAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1528091674,"rtx":{"ssrc":4150324285},"dtx":false}],"rtcp":{"cname":"enNvCkWJoQo6xfhe","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:05:25.177Z [INFO] [mediasoup-server]: Queueing notification for producer 87f87ba9-0118-4177-b3b9-5ee2684a2378 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:05:25.181Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:05:25.181Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Successfully created and registered proxy producer undefined
2025-06-11T16:05:25.185Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"e3b12e4d-49fc-422e-86f5-998d5302d07c","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"26491a7c-56be-4239-97ce-c64104d555e7","targetRouterId":"9c52a1bc-a1a9-43e1-b82c-4b425ba20047","pipeTransportInfo":{"id":"2f5ba868-e179-47e2-8e85-fd33ae9801ed","ip":"127.0.0.1","port":10959}}
2025-06-11T16:05:25.196Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"f80f573d-d036-4dfe-8f92-ba0bc5d4e0f7","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"9c52a1bc-a1a9-43e1-b82c-4b425ba20047","targetRouterId":"26491a7c-56be-4239-97ce-c64104d555e7","producerId":"87f87ba9-0118-4177-b3b9-5ee2684a2378","producerInfo":{"id":"87f87ba9-0118-4177-b3b9-5ee2684a2378","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1528091674,"rtx":{"ssrc":4150324285},"dtx":false}],"rtcp":{"cname":"enNvCkWJoQo6xfhe","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"16734e8a-d488-41a5-854a-c99ca3f5bff6","ip":"127.0.0.1","port":10083},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T16:05:25.197Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"f80f573d-d036-4dfe-8f92-ba0bc5d4e0f7","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"9c52a1bc-a1a9-43e1-b82c-4b425ba20047","targetRouterId":"26491a7c-56be-4239-97ce-c64104d555e7","producerId":"87f87ba9-0118-4177-b3b9-5ee2684a2378","producerInfo":{"id":"87f87ba9-0118-4177-b3b9-5ee2684a2378","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1528091674,"rtx":{"ssrc":4150324285},"dtx":false}],"rtcp":{"cname":"enNvCkWJoQo6xfhe","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"16734e8a-d488-41a5-854a-c99ca3f5bff6","ip":"127.0.0.1","port":10083},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T16:05:25.197Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"e3b12e4d-49fc-422e-86f5-998d5302d07c","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"26491a7c-56be-4239-97ce-c64104d555e7","targetRouterId":"9c52a1bc-a1a9-43e1-b82c-4b425ba20047","pipeTransportInfo":{"id":"2f5ba868-e179-47e2-8e85-fd33ae9801ed","ip":"127.0.0.1","port":10959}}
2025-06-11T16:05:25.204Z [DEBUG] [mediasoup-server]: Producer 1b6d829f-17ff-49aa-9079-6f3b8b695638 score: [{"encodingIdx":0,"ssrc":886741517,"score":10}]
2025-06-11T16:05:25.207Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:05:25.207Z [WARN] [mediasoup-server]: [pipeContext.createRemoteProducer] Producer undefined already exists. Returning existing.
2025-06-11T16:05:25.209Z [INFO] [mediasoup-server]: Successfully piped producer 1b6d829f-17ff-49aa-9079-6f3b8b695638 to remote server with router 26491a7c-56be-4239-97ce-c64104d555e7
2025-06-11T16:05:25.209Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"1b6d829f-17ff-49aa-9079-6f3b8b695638","socketId":"FBeALAUMzaj0PKdOAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":886741517,"dtx":false}],"rtcp":{"cname":"enNvCkWJoQo6xfhe","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:05:25.212Z [DEBUG] [mediasoup-server]: Producer 87f87ba9-0118-4177-b3b9-5ee2684a2378 score: [{"encodingIdx":0,"ssrc":1528091674,"score":10}]
2025-06-11T16:05:25.212Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"f80f573d-d036-4dfe-8f92-ba0bc5d4e0f7","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"26491a7c-56be-4239-97ce-c64104d555e7","targetRouterId":"9c52a1bc-a1a9-43e1-b82c-4b425ba20047","pipeTransportInfo":{"id":"4accec71-8e8e-40d8-b5b6-5a696821efa8","ip":"127.0.0.1","port":10666}}
2025-06-11T16:05:25.213Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"f80f573d-d036-4dfe-8f92-ba0bc5d4e0f7","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"26491a7c-56be-4239-97ce-c64104d555e7","targetRouterId":"9c52a1bc-a1a9-43e1-b82c-4b425ba20047","pipeTransportInfo":{"id":"4accec71-8e8e-40d8-b5b6-5a696821efa8","ip":"127.0.0.1","port":10666}}
2025-06-11T16:05:25.214Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"1b6d829f-17ff-49aa-9079-6f3b8b695638","socketId":"FBeALAUMzaj0PKdOAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":886741517,"dtx":false}],"rtcp":{"cname":"enNvCkWJoQo6xfhe","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:05:25.214Z [INFO] [mediasoup-server]: Queueing notification for producer 1b6d829f-17ff-49aa-9079-6f3b8b695638 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:05:25.218Z [INFO] [mediasoup-server]: Successfully piped producer 87f87ba9-0118-4177-b3b9-5ee2684a2378 to remote server with router 26491a7c-56be-4239-97ce-c64104d555e7
2025-06-11T16:05:25.219Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"87f87ba9-0118-4177-b3b9-5ee2684a2378","socketId":"FBeALAUMzaj0PKdOAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1528091674,"rtx":{"ssrc":4150324285},"dtx":false}],"rtcp":{"cname":"enNvCkWJoQo6xfhe","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:05:25.220Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"87f87ba9-0118-4177-b3b9-5ee2684a2378","socketId":"FBeALAUMzaj0PKdOAAAD","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1528091674,"rtx":{"ssrc":4150324285},"dtx":false}],"rtcp":{"cname":"enNvCkWJoQo6xfhe","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:05:25.220Z [INFO] [mediasoup-server]: Queueing notification for producer 87f87ba9-0118-4177-b3b9-5ee2684a2378 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:05:25.226Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T16:05:58.052Z [INFO] [mediasoup-server]: Received SIGINT signal
2025-06-11T16:05:58.060Z [INFO] [mediasoup-server]: Disconnected from target server at ws://127.0.0.1:8080
2025-06-11T16:05:59.276Z [INFO] [mediasoup-server]: Received SIGINT signal
2025-06-11T16:09:43.332Z [INFO] [mediasoup-server]: WebSocket server listening on port 8080
2025-06-11T16:09:43.334Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8081
2025-06-11T16:09:43.357Z [ERROR] [mediasoup-server]: WebSocket client error: Error: connect ECONNREFUSED 127.0.0.1:8081
    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1636:16) {
  errno: -4078,
  code: 'ECONNREFUSED',
  syscall: 'connect',
  address: '127.0.0.1',
  port: 8081
}
2025-06-11T16:09:43.358Z [INFO] [mediasoup-server]: Disconnected from target server at ws://127.0.0.1:8081
2025-06-11T16:09:43.669Z [INFO] [mediasoup-server]: Peer connected: qQmhenSTuL58Q3Y1AAAB
2025-06-11T16:09:44.484Z [INFO] [mediasoup-server]: Peer disconnected: qQmhenSTuL58Q3Y1AAAB
2025-06-11T16:09:45.467Z [INFO] [mediasoup-server]: Peer connected: -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:45.792Z [INFO] [mediasoup-server]: Created new room: 66d235c6c9b3cadc2af8f81c
2025-06-11T16:09:45.793Z [DEBUG] [mediasoup-server]: Returning 0 producers in room 66d235c6c9b3cadc2af8f81c to peer -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:45.901Z [DEBUG] [mediasoup-server]: Returning 0 producers to peer -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:45.923Z [DEBUG] [mediasoup-server]: Created WebRTC transport 37ea75ac-d403-44bb-8946-cd3b783ad1a4 for peer -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:45.924Z [DEBUG] [mediasoup-server]: Current transports on server after adding 37ea75ac-d403-44bb-8946-cd3b783ad1a4: [ '37ea75ac-d403-44bb-8946-cd3b783ad1a4', [length]: 1 ]
2025-06-11T16:09:45.950Z [INFO] [mediasoup-server]: Received transport-connect for transportId 37ea75ac-d403-44bb-8946-cd3b783ad1a4
2025-06-11T16:09:45.951Z [DEBUG] [mediasoup-server]: Connecting transport 37ea75ac-d403-44bb-8946-cd3b783ad1a4 with DTLS parameters
2025-06-11T16:09:45.955Z [INFO] [mediasoup-server]: Transport 37ea75ac-d403-44bb-8946-cd3b783ad1a4 connected successfully
2025-06-11T16:09:45.981Z [DEBUG] [mediasoup-server]: getTransport called for socketId: -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:45.981Z [DEBUG] [mediasoup-server]: getTransport for socketId -0A0aR7fFX0xbW2eAAAD found transport: 37ea75ac-d403-44bb-8946-cd3b783ad1a4
2025-06-11T16:09:45.981Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 37ea75ac-d403-44bb-8946-cd3b783ad1a4 for socket -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:45.999Z [DEBUG] [mediasoup-server]: getTransport called for socketId: -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:45.999Z [DEBUG] [mediasoup-server]: getTransport for socketId -0A0aR7fFX0xbW2eAAAD found transport: 37ea75ac-d403-44bb-8946-cd3b783ad1a4
2025-06-11T16:09:45.999Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 37ea75ac-d403-44bb-8946-cd3b783ad1a4 for socket -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:46.004Z [DEBUG] [mediasoup-server]: Successfully produced audio with id 5b30cf90-7b8e-4265-8ae2-f724c60b353d on transport 37ea75ac-d403-44bb-8946-cd3b783ad1a4 for socket -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:46.004Z [ERROR] [mediasoup-server]: Cannot pipe producer 5b30cf90-7b8e-4265-8ae2-f724c60b353d: No remote router ID available for server-2
2025-06-11T16:09:46.005Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 5b30cf90-7b8e-4265-8ae2-f724c60b353d
2025-06-11T16:09:46.005Z [INFO] [mediasoup-server]: Producer 5b30cf90-7b8e-4265-8ae2-f724c60b353d created for peer -0A0aR7fFX0xbW2eAAAD, kind: audio
2025-06-11T16:09:46.019Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 5b30cf90-7b8e-4265-8ae2-f724c60b353d
2025-06-11T16:09:46.019Z [INFO] [mediasoup-server]: Handshake not yet complete for server-2, delaying pipe attempt for producer 5b30cf90-7b8e-4265-8ae2-f724c60b353d
2025-06-11T16:09:46.057Z [DEBUG] [mediasoup-server]: getTransport called for socketId: -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:46.057Z [DEBUG] [mediasoup-server]: getTransport for socketId -0A0aR7fFX0xbW2eAAAD found transport: 37ea75ac-d403-44bb-8946-cd3b783ad1a4
2025-06-11T16:09:46.057Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 37ea75ac-d403-44bb-8946-cd3b783ad1a4 for socket -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:46.078Z [DEBUG] [mediasoup-server]: getTransport called for socketId: -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:46.078Z [DEBUG] [mediasoup-server]: getTransport for socketId -0A0aR7fFX0xbW2eAAAD found transport: 37ea75ac-d403-44bb-8946-cd3b783ad1a4
2025-06-11T16:09:46.078Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 37ea75ac-d403-44bb-8946-cd3b783ad1a4 for socket -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:46.082Z [DEBUG] [mediasoup-server]: Successfully produced video with id 2376ea89-b41b-42ed-a186-ea235c02f81a on transport 37ea75ac-d403-44bb-8946-cd3b783ad1a4 for socket -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:46.082Z [ERROR] [mediasoup-server]: Cannot pipe producer 2376ea89-b41b-42ed-a186-ea235c02f81a: No remote router ID available for server-2
2025-06-11T16:09:46.082Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 2376ea89-b41b-42ed-a186-ea235c02f81a
2025-06-11T16:09:46.082Z [INFO] [mediasoup-server]: Producer 2376ea89-b41b-42ed-a186-ea235c02f81a created for peer -0A0aR7fFX0xbW2eAAAD, kind: video
2025-06-11T16:09:46.088Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 2376ea89-b41b-42ed-a186-ea235c02f81a
2025-06-11T16:09:46.089Z [INFO] [mediasoup-server]: Handshake not yet complete for server-2, delaying pipe attempt for producer 2376ea89-b41b-42ed-a186-ea235c02f81a
2025-06-11T16:09:46.159Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10074,"remoteIp":"127.0.0.1","remotePort":58942,"protocol":"tcp"}
2025-06-11T16:09:46.160Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T16:09:46.192Z [DEBUG] [mediasoup-server]: Producer 2376ea89-b41b-42ed-a186-ea235c02f81a score: [{"encodingIdx":0,"ssrc":3553469792,"score":10}]
2025-06-11T16:09:46.194Z [DEBUG] [mediasoup-server]: Producer 5b30cf90-7b8e-4265-8ae2-f724c60b353d score: [{"encodingIdx":0,"ssrc":67239272,"score":10}]
2025-06-11T16:09:46.211Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T16:09:48.370Z [INFO] [mediasoup-server]: Attempting to reconnect to target server...
2025-06-11T16:09:48.371Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8081
2025-06-11T16:09:48.373Z [ERROR] [mediasoup-server]: WebSocket client error: Error: connect ECONNREFUSED 127.0.0.1:8081
    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1636:16) {
  errno: -4078,
  code: 'ECONNREFUSED',
  syscall: 'connect',
  address: '127.0.0.1',
  port: 8081
}
2025-06-11T16:09:48.374Z [INFO] [mediasoup-server]: Disconnected from target server at ws://127.0.0.1:8081
2025-06-11T16:09:49.183Z [INFO] [mediasoup-server]: WebSocket server listening on port 8081
2025-06-11T16:09:49.185Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8080
2025-06-11T16:09:49.209Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T16:09:49.212Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8080
2025-06-11T16:09:49.213Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T16:09:49.731Z [INFO] [mediasoup-server]: Peer disconnected: -0A0aR7fFX0xbW2eAAAD
2025-06-11T16:09:49.731Z [INFO] [mediasoup-server]: Room 66d235c6c9b3cadc2af8f81c deleted (no peers remaining)
2025-06-11T16:09:50.836Z [INFO] [mediasoup-server]: Peer connected: HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.011Z [INFO] [mediasoup-server]: Created new room: 66d235c6c9b3cadc2af8f81c
2025-06-11T16:09:51.012Z [DEBUG] [mediasoup-server]: Returning 0 producers in room 66d235c6c9b3cadc2af8f81c to peer HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.068Z [DEBUG] [mediasoup-server]: Returning 0 producers to peer HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.080Z [DEBUG] [mediasoup-server]: Created WebRTC transport 24423f1f-72ce-4456-a410-0a66215e1161 for peer HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.080Z [DEBUG] [mediasoup-server]: Current transports on server after adding 24423f1f-72ce-4456-a410-0a66215e1161: [ '24423f1f-72ce-4456-a410-0a66215e1161', [length]: 1 ]
2025-06-11T16:09:51.107Z [INFO] [mediasoup-server]: Received transport-connect for transportId 24423f1f-72ce-4456-a410-0a66215e1161
2025-06-11T16:09:51.108Z [DEBUG] [mediasoup-server]: Connecting transport 24423f1f-72ce-4456-a410-0a66215e1161 with DTLS parameters
2025-06-11T16:09:51.108Z [INFO] [mediasoup-server]: Transport 24423f1f-72ce-4456-a410-0a66215e1161 connected successfully
2025-06-11T16:09:51.126Z [DEBUG] [mediasoup-server]: getTransport called for socketId: HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.126Z [DEBUG] [mediasoup-server]: getTransport for socketId HhuU5S3NNK41YuciAAAF found transport: 24423f1f-72ce-4456-a410-0a66215e1161
2025-06-11T16:09:51.126Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 24423f1f-72ce-4456-a410-0a66215e1161 for socket HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.139Z [DEBUG] [mediasoup-server]: getTransport called for socketId: HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.140Z [DEBUG] [mediasoup-server]: getTransport for socketId HhuU5S3NNK41YuciAAAF found transport: 24423f1f-72ce-4456-a410-0a66215e1161
2025-06-11T16:09:51.140Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 24423f1f-72ce-4456-a410-0a66215e1161 for socket HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.143Z [DEBUG] [mediasoup-server]: Successfully produced audio with id b2549ffe-06a6-4945-ae5d-b428cc1a3be5 on transport 24423f1f-72ce-4456-a410-0a66215e1161 for socket HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.143Z [ERROR] [mediasoup-server]: Cannot pipe producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5: No remote router ID available for server-2
2025-06-11T16:09:51.143Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5
2025-06-11T16:09:51.143Z [INFO] [mediasoup-server]: Producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5 created for peer HhuU5S3NNK41YuciAAAF, kind: audio
2025-06-11T16:09:51.150Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5
2025-06-11T16:09:51.151Z [INFO] [mediasoup-server]: Handshake not yet complete for server-2, delaying pipe attempt for producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5
2025-06-11T16:09:51.175Z [DEBUG] [mediasoup-server]: getTransport called for socketId: HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.175Z [DEBUG] [mediasoup-server]: getTransport for socketId HhuU5S3NNK41YuciAAAF found transport: 24423f1f-72ce-4456-a410-0a66215e1161
2025-06-11T16:09:51.175Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 24423f1f-72ce-4456-a410-0a66215e1161 for socket HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.188Z [DEBUG] [mediasoup-server]: getTransport called for socketId: HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.188Z [DEBUG] [mediasoup-server]: getTransport for socketId HhuU5S3NNK41YuciAAAF found transport: 24423f1f-72ce-4456-a410-0a66215e1161
2025-06-11T16:09:51.189Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 24423f1f-72ce-4456-a410-0a66215e1161 for socket HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.191Z [DEBUG] [mediasoup-server]: Successfully produced video with id 4b1e9145-cadb-47ba-a390-0cbfd79e2c20 on transport 24423f1f-72ce-4456-a410-0a66215e1161 for socket HhuU5S3NNK41YuciAAAF
2025-06-11T16:09:51.191Z [ERROR] [mediasoup-server]: Cannot pipe producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20: No remote router ID available for server-2
2025-06-11T16:09:51.191Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20
2025-06-11T16:09:51.191Z [INFO] [mediasoup-server]: Producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20 created for peer HhuU5S3NNK41YuciAAAF, kind: video
2025-06-11T16:09:51.200Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20
2025-06-11T16:09:51.201Z [INFO] [mediasoup-server]: Handshake not yet complete for server-2, delaying pipe attempt for producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20
2025-06-11T16:09:51.315Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10660,"remoteIp":"127.0.0.1","remotePort":58977,"protocol":"tcp"}
2025-06-11T16:09:51.315Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T16:09:51.342Z [DEBUG] [mediasoup-server]: Producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5 score: [{"encodingIdx":0,"ssrc":1667117032,"score":10}]
2025-06-11T16:09:51.356Z [DEBUG] [mediasoup-server]: Producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20 score: [{"encodingIdx":0,"ssrc":344570060,"score":10}]
2025-06-11T16:09:51.369Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T16:09:53.382Z [INFO] [mediasoup-server]: Attempting to reconnect to target server...
2025-06-11T16:09:53.383Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8081
2025-06-11T16:09:53.387Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T16:09:53.388Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8081
2025-06-11T16:09:53.388Z [INFO] [mediasoup-server]: Sending router handshake to server-2: 054e75e6-5555-4520-8cf6-c990894fcde3
2025-06-11T16:09:53.391Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"054e75e6-5555-4520-8cf6-c990894fcde3","serverId":"server-1","timestamp":1749658193388}
2025-06-11T16:09:53.392Z [INFO] [mediasoup-server]: Received router ID 054e75e6-5555-4520-8cf6-c990894fcde3 from server server-1
2025-06-11T16:09:53.392Z [INFO] [mediasoup-server]: Sending router handshake acknowledgment to server-1
2025-06-11T16:09:53.394Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake_ack","routerId":"9f498767-9446-4bd2-a529-af5148cf8e09","serverId":"server-2","receivedRouterId":"054e75e6-5555-4520-8cf6-c990894fcde3","timestamp":1749658193392}
2025-06-11T16:09:53.394Z [INFO] [mediasoup-server]: Received handshake ack from server-2. They received our router ID 054e75e6-5555-4520-8cf6-c990894fcde3
2025-06-11T16:09:53.394Z [INFO] [mediasoup-server]: Storing router ID 9f498767-9446-4bd2-a529-af5148cf8e09 from server server-2 (from ack)
2025-06-11T16:09:53.395Z [INFO] [mediasoup-server]: Attempting to pipe previously pending producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5
2025-06-11T16:09:53.395Z [INFO] [mediasoup-server]: Piping producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5 (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 9f498767-9446-4bd2-a529-af5148cf8e09
2025-06-11T16:09:53.396Z [INFO] [mediasoup-server]: Attempting to pipe previously pending producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20
2025-06-11T16:09:53.396Z [INFO] [mediasoup-server]: Piping producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20 (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 9f498767-9446-4bd2-a529-af5148cf8e09
2025-06-11T16:09:53.403Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"2b96fa8f-1064-4742-a28b-d07ce7d87705","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"054e75e6-5555-4520-8cf6-c990894fcde3","targetRouterId":"9f498767-9446-4bd2-a529-af5148cf8e09","producerId":"b2549ffe-06a6-4945-ae5d-b428cc1a3be5","producerInfo":{"id":"b2549ffe-06a6-4945-ae5d-b428cc1a3be5","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1667117032,"dtx":false}],"rtcp":{"cname":"23jURV6EPTO14tPJ","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"db85c45f-0cc8-45af-a74f-0ed92c618569","ip":"127.0.0.1","port":10758},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T16:09:53.404Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"2b96fa8f-1064-4742-a28b-d07ce7d87705","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"054e75e6-5555-4520-8cf6-c990894fcde3","targetRouterId":"9f498767-9446-4bd2-a529-af5148cf8e09","producerId":"b2549ffe-06a6-4945-ae5d-b428cc1a3be5","producerInfo":{"id":"b2549ffe-06a6-4945-ae5d-b428cc1a3be5","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1667117032,"dtx":false}],"rtcp":{"cname":"23jURV6EPTO14tPJ","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"db85c45f-0cc8-45af-a74f-0ed92c618569","ip":"127.0.0.1","port":10758},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T16:09:53.405Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"4bd8433a-655a-40a7-917c-21c8bba573dd","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"054e75e6-5555-4520-8cf6-c990894fcde3","targetRouterId":"9f498767-9446-4bd2-a529-af5148cf8e09","producerId":"4b1e9145-cadb-47ba-a390-0cbfd79e2c20","producerInfo":{"id":"4b1e9145-cadb-47ba-a390-0cbfd79e2c20","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":344570060,"rtx":{"ssrc":340067465},"dtx":false}],"rtcp":{"cname":"23jURV6EPTO14tPJ","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"e54bb029-3863-4a89-a14b-0d6f84e8a553","ip":"127.0.0.1","port":10595},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T16:09:53.409Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"4bd8433a-655a-40a7-917c-21c8bba573dd","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"054e75e6-5555-4520-8cf6-c990894fcde3","targetRouterId":"9f498767-9446-4bd2-a529-af5148cf8e09","producerId":"4b1e9145-cadb-47ba-a390-0cbfd79e2c20","producerInfo":{"id":"4b1e9145-cadb-47ba-a390-0cbfd79e2c20","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":344570060,"rtx":{"ssrc":340067465},"dtx":false}],"rtcp":{"cname":"23jURV6EPTO14tPJ","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"e54bb029-3863-4a89-a14b-0d6f84e8a553","ip":"127.0.0.1","port":10595},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T16:09:53.423Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:09:53.424Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Successfully created and registered proxy producer undefined
2025-06-11T16:09:53.425Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:09:53.426Z [WARN] [mediasoup-server]: [pipeContext.createRemoteProducer] Producer undefined already exists. Returning existing.
2025-06-11T16:09:53.427Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"2b96fa8f-1064-4742-a28b-d07ce7d87705","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"9f498767-9446-4bd2-a529-af5148cf8e09","targetRouterId":"054e75e6-5555-4520-8cf6-c990894fcde3","pipeTransportInfo":{"id":"a6c48bb8-730c-48b8-b3c9-699df2d56f43","ip":"127.0.0.1","port":10839}}
2025-06-11T16:09:53.427Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"2b96fa8f-1064-4742-a28b-d07ce7d87705","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"9f498767-9446-4bd2-a529-af5148cf8e09","targetRouterId":"054e75e6-5555-4520-8cf6-c990894fcde3","pipeTransportInfo":{"id":"a6c48bb8-730c-48b8-b3c9-699df2d56f43","ip":"127.0.0.1","port":10839}}
2025-06-11T16:09:53.428Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"4bd8433a-655a-40a7-917c-21c8bba573dd","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"9f498767-9446-4bd2-a529-af5148cf8e09","targetRouterId":"054e75e6-5555-4520-8cf6-c990894fcde3","pipeTransportInfo":{"id":"1c378f1f-0f6e-4a6f-a048-d0ee34979037","ip":"127.0.0.1","port":10746}}
2025-06-11T16:09:53.431Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"4bd8433a-655a-40a7-917c-21c8bba573dd","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"9f498767-9446-4bd2-a529-af5148cf8e09","targetRouterId":"054e75e6-5555-4520-8cf6-c990894fcde3","pipeTransportInfo":{"id":"1c378f1f-0f6e-4a6f-a048-d0ee34979037","ip":"127.0.0.1","port":10746}}
2025-06-11T16:09:53.440Z [INFO] [mediasoup-server]: Successfully piped producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5 to remote server with router 9f498767-9446-4bd2-a529-af5148cf8e09
2025-06-11T16:09:53.442Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"b2549ffe-06a6-4945-ae5d-b428cc1a3be5","socketId":"HhuU5S3NNK41YuciAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1667117032,"dtx":false}],"rtcp":{"cname":"23jURV6EPTO14tPJ","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:09:53.441Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"b2549ffe-06a6-4945-ae5d-b428cc1a3be5","socketId":"HhuU5S3NNK41YuciAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1667117032,"dtx":false}],"rtcp":{"cname":"23jURV6EPTO14tPJ","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:09:53.441Z [INFO] [mediasoup-server]: Successfully piped producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20 to remote server with router 9f498767-9446-4bd2-a529-af5148cf8e09
2025-06-11T16:09:53.442Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"4b1e9145-cadb-47ba-a390-0cbfd79e2c20","socketId":"HhuU5S3NNK41YuciAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":344570060,"rtx":{"ssrc":340067465},"dtx":false}],"rtcp":{"cname":"23jURV6EPTO14tPJ","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:09:53.442Z [INFO] [mediasoup-server]: Queueing notification for producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:09:53.443Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"4b1e9145-cadb-47ba-a390-0cbfd79e2c20","socketId":"HhuU5S3NNK41YuciAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":344570060,"rtx":{"ssrc":340067465},"dtx":false}],"rtcp":{"cname":"23jURV6EPTO14tPJ","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:09:53.444Z [INFO] [mediasoup-server]: Queueing notification for producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:09:54.158Z [INFO] [mediasoup-server]: Retrying pipe for producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5 after obtaining router ID
2025-06-11T16:09:54.159Z [INFO] [mediasoup-server]: Piping producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5 (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 9f498767-9446-4bd2-a529-af5148cf8e09
2025-06-11T16:09:54.159Z [INFO] [mediasoup-server]: Successfully piped producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5 to remote server with router 9f498767-9446-4bd2-a529-af5148cf8e09
2025-06-11T16:09:54.160Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"b2549ffe-06a6-4945-ae5d-b428cc1a3be5","socketId":"HhuU5S3NNK41YuciAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1667117032,"dtx":false}],"rtcp":{"cname":"23jURV6EPTO14tPJ","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:09:54.161Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"b2549ffe-06a6-4945-ae5d-b428cc1a3be5","socketId":"HhuU5S3NNK41YuciAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":1667117032,"dtx":false}],"rtcp":{"cname":"23jURV6EPTO14tPJ","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:09:54.161Z [INFO] [mediasoup-server]: Queueing notification for producer b2549ffe-06a6-4945-ae5d-b428cc1a3be5 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:09:54.205Z [INFO] [mediasoup-server]: Retrying pipe for producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20 after obtaining router ID
2025-06-11T16:09:54.205Z [INFO] [mediasoup-server]: Piping producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20 (kind: video) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 9f498767-9446-4bd2-a529-af5148cf8e09
2025-06-11T16:09:54.206Z [INFO] [mediasoup-server]: Successfully piped producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20 to remote server with router 9f498767-9446-4bd2-a529-af5148cf8e09
2025-06-11T16:09:54.207Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"4b1e9145-cadb-47ba-a390-0cbfd79e2c20","socketId":"HhuU5S3NNK41YuciAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":344570060,"rtx":{"ssrc":340067465},"dtx":false}],"rtcp":{"cname":"23jURV6EPTO14tPJ","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:09:54.208Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"4b1e9145-cadb-47ba-a390-0cbfd79e2c20","socketId":"HhuU5S3NNK41YuciAAAF","roomName":"66d235c6c9b3cadc2af8f81c","kind":"video","rtpParameters":{"mid":"1","codecs":[{"mimeType":"video/VP8","payloadType":96,"clockRate":90000,"parameters":{},"rtcpFeedback":[{"type":"goog-remb","parameter":""},{"type":"transport-cc","parameter":""},{"type":"ccm","parameter":"fir"},{"type":"nack","parameter":""},{"type":"nack","parameter":"pli"}]},{"mimeType":"video/rtx","payloadType":97,"clockRate":90000,"parameters":{"apt":96},"rtcpFeedback":[]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","id":10,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id","id":11,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:3gpp:video-orientation","id":13,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:toffset","id":14,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay","id":5,"encrypt":false,"parameters":{}}],"encodings":[{"ssrc":344570060,"rtx":{"ssrc":340067465},"dtx":false}],"rtcp":{"cname":"23jURV6EPTO14tPJ","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:09:54.208Z [INFO] [mediasoup-server]: Queueing notification for producer 4b1e9145-cadb-47ba-a390-0cbfd79e2c20 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:10:10.774Z [INFO] [mediasoup-server]: Peer connected: Bg6whosrbLuRToWCAAAB
2025-06-11T16:12:36.734Z [INFO] [mediasoup-server]: WebSocket server listening on port 8080
2025-06-11T16:12:36.736Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8081
2025-06-11T16:12:36.753Z [INFO] [mediasoup-server]: WebSocket server listening on port 8081
2025-06-11T16:12:36.756Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8080
2025-06-11T16:12:36.782Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T16:12:36.782Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T16:12:36.784Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8081
2025-06-11T16:12:36.784Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T16:12:36.784Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8080
2025-06-11T16:12:36.785Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T16:12:41.183Z [INFO] [mediasoup-server]: Peer connected: 5bGls9Ig8BZJRKpIAAAB
2025-06-11T16:12:41.792Z [INFO] [mediasoup-server]: Sending periodic router handshake to server-2
2025-06-11T16:12:41.791Z [INFO] [mediasoup-server]: Sending periodic router handshake to server-1
2025-06-11T16:12:41.792Z [INFO] [mediasoup-server]: Sending router handshake to server-2: 748894f0-fe0e-4830-be02-d91e86ba8322
2025-06-11T16:12:41.792Z [INFO] [mediasoup-server]: Sending router handshake to server-1: ba3a04a7-8dd7-4535-80e2-0e17252f8c26
2025-06-11T16:12:41.796Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"748894f0-fe0e-4830-be02-d91e86ba8322","serverId":"server-1","timestamp":1749658361792}
2025-06-11T16:12:41.797Z [INFO] [mediasoup-server]: Received router ID 748894f0-fe0e-4830-be02-d91e86ba8322 from server server-1
2025-06-11T16:12:41.797Z [INFO] [mediasoup-server]: Sending router handshake acknowledgment to server-1
2025-06-11T16:12:41.798Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake_ack","routerId":"748894f0-fe0e-4830-be02-d91e86ba8322","serverId":"server-1","receivedRouterId":"ba3a04a7-8dd7-4535-80e2-0e17252f8c26","timestamp":1749658361797}
2025-06-11T16:12:41.798Z [INFO] [mediasoup-server]: Received handshake ack from server-1. They received our router ID ba3a04a7-8dd7-4535-80e2-0e17252f8c26
2025-06-11T16:12:41.796Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"ba3a04a7-8dd7-4535-80e2-0e17252f8c26","serverId":"server-2","timestamp":1749658361792}
2025-06-11T16:12:41.797Z [INFO] [mediasoup-server]: Received router ID ba3a04a7-8dd7-4535-80e2-0e17252f8c26 from server server-2
2025-06-11T16:12:41.797Z [INFO] [mediasoup-server]: Sending router handshake acknowledgment to server-2
2025-06-11T16:12:41.798Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake_ack","routerId":"ba3a04a7-8dd7-4535-80e2-0e17252f8c26","serverId":"server-2","receivedRouterId":"748894f0-fe0e-4830-be02-d91e86ba8322","timestamp":1749658361797}
2025-06-11T16:12:41.799Z [INFO] [mediasoup-server]: Received handshake ack from server-2. They received our router ID 748894f0-fe0e-4830-be02-d91e86ba8322
2025-06-11T16:13:08.174Z [INFO] [mediasoup-server]: Peer connected: S24wiKxTJSeda5HPAAAB
2025-06-11T16:14:05.639Z [INFO] [mediasoup-server]: WebSocket server listening on port 8081
2025-06-11T16:14:05.644Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8080
2025-06-11T16:14:05.673Z [INFO] [mediasoup-server]: WebSocket server listening on port 8080
2025-06-11T16:14:05.680Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8081
2025-06-11T16:14:05.757Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T16:14:05.757Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T16:14:05.760Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8080
2025-06-11T16:14:05.761Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T16:14:05.761Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8081
2025-06-11T16:14:05.762Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T16:14:06.255Z [INFO] [mediasoup-server]: Peer connected: _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.268Z [INFO] [mediasoup-server]: Created new room: 66d235c6c9b3cadc2af8f81c
2025-06-11T16:14:06.269Z [DEBUG] [mediasoup-server]: Returning 0 producers in room 66d235c6c9b3cadc2af8f81c to peer _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.312Z [DEBUG] [mediasoup-server]: Returning 0 producers to peer _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.324Z [DEBUG] [mediasoup-server]: Created WebRTC transport e822f3d6-178c-42d3-8433-c04feac1ab65 for peer _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.324Z [DEBUG] [mediasoup-server]: Current transports on server after adding e822f3d6-178c-42d3-8433-c04feac1ab65: [ 'e822f3d6-178c-42d3-8433-c04feac1ab65', [length]: 1 ]
2025-06-11T16:14:06.349Z [INFO] [mediasoup-server]: Received transport-connect for transportId e822f3d6-178c-42d3-8433-c04feac1ab65
2025-06-11T16:14:06.349Z [DEBUG] [mediasoup-server]: Connecting transport e822f3d6-178c-42d3-8433-c04feac1ab65 with DTLS parameters
2025-06-11T16:14:06.352Z [INFO] [mediasoup-server]: Transport e822f3d6-178c-42d3-8433-c04feac1ab65 connected successfully
2025-06-11T16:14:06.377Z [DEBUG] [mediasoup-server]: getTransport called for socketId: _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.378Z [DEBUG] [mediasoup-server]: getTransport for socketId _L-AgnzipzigeHGMAAAB found transport: e822f3d6-178c-42d3-8433-c04feac1ab65
2025-06-11T16:14:06.378Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport e822f3d6-178c-42d3-8433-c04feac1ab65 for socket _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.395Z [DEBUG] [mediasoup-server]: getTransport called for socketId: _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.395Z [DEBUG] [mediasoup-server]: getTransport for socketId _L-AgnzipzigeHGMAAAB found transport: e822f3d6-178c-42d3-8433-c04feac1ab65
2025-06-11T16:14:06.395Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport e822f3d6-178c-42d3-8433-c04feac1ab65 for socket _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.398Z [DEBUG] [mediasoup-server]: Successfully produced audio with id 8d565205-14c2-4f0b-9d84-3c5a3652eb46 on transport e822f3d6-178c-42d3-8433-c04feac1ab65 for socket _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.399Z [ERROR] [mediasoup-server]: Cannot pipe producer 8d565205-14c2-4f0b-9d84-3c5a3652eb46: No remote router ID available for server-2
2025-06-11T16:14:06.399Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 8d565205-14c2-4f0b-9d84-3c5a3652eb46
2025-06-11T16:14:06.400Z [INFO] [mediasoup-server]: Producer 8d565205-14c2-4f0b-9d84-3c5a3652eb46 created for peer _L-AgnzipzigeHGMAAAB, kind: audio
2025-06-11T16:14:06.409Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 8d565205-14c2-4f0b-9d84-3c5a3652eb46
2025-06-11T16:14:06.409Z [INFO] [mediasoup-server]: Handshake not yet complete for server-2, delaying pipe attempt for producer 8d565205-14c2-4f0b-9d84-3c5a3652eb46
2025-06-11T16:14:06.440Z [DEBUG] [mediasoup-server]: getTransport called for socketId: _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.441Z [DEBUG] [mediasoup-server]: getTransport for socketId _L-AgnzipzigeHGMAAAB found transport: e822f3d6-178c-42d3-8433-c04feac1ab65
2025-06-11T16:14:06.441Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport e822f3d6-178c-42d3-8433-c04feac1ab65 for socket _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.473Z [DEBUG] [mediasoup-server]: getTransport called for socketId: _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.473Z [DEBUG] [mediasoup-server]: getTransport for socketId _L-AgnzipzigeHGMAAAB found transport: e822f3d6-178c-42d3-8433-c04feac1ab65
2025-06-11T16:14:06.473Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport e822f3d6-178c-42d3-8433-c04feac1ab65 for socket _L-AgnzipzigeHGMAAAB
2025-06-11T16:14:06.554Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10730,"remoteIp":"127.0.0.1","remotePort":59529,"protocol":"tcp"}
2025-06-11T16:14:06.554Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T16:14:06.580Z [DEBUG] [mediasoup-server]: Producer 8d565205-14c2-4f0b-9d84-3c5a3652eb46 score: [{"encodingIdx":0,"ssrc":3963096574,"score":10}]
2025-06-11T16:14:06.615Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T16:14:08.178Z [INFO] [mediasoup-server]: Peer connected: moPEIGUbEC86b_GnAAAB
2025-06-11T16:14:08.689Z [INFO] [mediasoup-server]: Disconnected from target server at ws://127.0.0.1:8081
2025-06-11T16:14:09.922Z [INFO] [mediasoup-server]: WebSocket server listening on port 8081
2025-06-11T16:14:09.924Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8080
2025-06-11T16:14:09.923Z [INFO] [mediasoup-server]: WebSocket server listening on port 8080
2025-06-11T16:14:09.925Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8081
2025-06-11T16:14:09.955Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T16:14:09.955Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T16:14:09.958Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8080
2025-06-11T16:14:09.958Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T16:14:09.958Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8081
2025-06-11T16:14:09.959Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T16:14:14.193Z [INFO] [mediasoup-server]: Peer connected: We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.422Z [INFO] [mediasoup-server]: Created new room: 66d235c6c9b3cadc2af8f81c
2025-06-11T16:14:14.423Z [DEBUG] [mediasoup-server]: Returning 0 producers in room 66d235c6c9b3cadc2af8f81c to peer We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.504Z [DEBUG] [mediasoup-server]: Returning 0 producers to peer We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.524Z [DEBUG] [mediasoup-server]: Created WebRTC transport 23202e8c-6812-4a21-ad77-c84a649cd5af for peer We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.525Z [DEBUG] [mediasoup-server]: Current transports on server after adding 23202e8c-6812-4a21-ad77-c84a649cd5af: [ '23202e8c-6812-4a21-ad77-c84a649cd5af', [length]: 1 ]
2025-06-11T16:14:14.550Z [INFO] [mediasoup-server]: Received transport-connect for transportId 23202e8c-6812-4a21-ad77-c84a649cd5af
2025-06-11T16:14:14.551Z [DEBUG] [mediasoup-server]: Connecting transport 23202e8c-6812-4a21-ad77-c84a649cd5af with DTLS parameters
2025-06-11T16:14:14.553Z [INFO] [mediasoup-server]: Transport 23202e8c-6812-4a21-ad77-c84a649cd5af connected successfully
2025-06-11T16:14:14.580Z [DEBUG] [mediasoup-server]: getTransport called for socketId: We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.581Z [DEBUG] [mediasoup-server]: getTransport for socketId We-9z9M8R5mQhczUAAAB found transport: 23202e8c-6812-4a21-ad77-c84a649cd5af
2025-06-11T16:14:14.581Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 23202e8c-6812-4a21-ad77-c84a649cd5af for socket We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.597Z [DEBUG] [mediasoup-server]: getTransport called for socketId: We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.597Z [DEBUG] [mediasoup-server]: getTransport for socketId We-9z9M8R5mQhczUAAAB found transport: 23202e8c-6812-4a21-ad77-c84a649cd5af
2025-06-11T16:14:14.598Z [DEBUG] [mediasoup-server]: Attempting to produce audio on transport 23202e8c-6812-4a21-ad77-c84a649cd5af for socket We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.603Z [DEBUG] [mediasoup-server]: Successfully produced audio with id 2b05255a-e71b-4114-b21b-ffc5239debe8 on transport 23202e8c-6812-4a21-ad77-c84a649cd5af for socket We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.603Z [ERROR] [mediasoup-server]: Cannot pipe producer 2b05255a-e71b-4114-b21b-ffc5239debe8: No remote router ID available for server-2
2025-06-11T16:14:14.604Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 2b05255a-e71b-4114-b21b-ffc5239debe8
2025-06-11T16:14:14.604Z [INFO] [mediasoup-server]: Producer 2b05255a-e71b-4114-b21b-ffc5239debe8 created for peer We-9z9M8R5mQhczUAAAB, kind: audio
2025-06-11T16:14:14.610Z [DEBUG] [mediasoup-server]: Informing consumers in room 66d235c6c9b3cadc2af8f81c about new producer 2b05255a-e71b-4114-b21b-ffc5239debe8
2025-06-11T16:14:14.610Z [INFO] [mediasoup-server]: Handshake not yet complete for server-2, delaying pipe attempt for producer 2b05255a-e71b-4114-b21b-ffc5239debe8
2025-06-11T16:14:14.648Z [DEBUG] [mediasoup-server]: getTransport called for socketId: We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.649Z [DEBUG] [mediasoup-server]: getTransport for socketId We-9z9M8R5mQhczUAAAB found transport: 23202e8c-6812-4a21-ad77-c84a649cd5af
2025-06-11T16:14:14.649Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 23202e8c-6812-4a21-ad77-c84a649cd5af for socket We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.676Z [DEBUG] [mediasoup-server]: getTransport called for socketId: We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.676Z [DEBUG] [mediasoup-server]: getTransport for socketId We-9z9M8R5mQhczUAAAB found transport: 23202e8c-6812-4a21-ad77-c84a649cd5af
2025-06-11T16:14:14.676Z [DEBUG] [mediasoup-server]: Attempting to produce video on transport 23202e8c-6812-4a21-ad77-c84a649cd5af for socket We-9z9M8R5mQhczUAAAB
2025-06-11T16:14:14.759Z [DEBUG] [mediasoup-server]: ICE tuple changed: {"localIp":"0.0.0.0","localAddress":"0.0.0.0","localPort":10218,"remoteIp":"127.0.0.1","remotePort":59636,"protocol":"tcp"}
2025-06-11T16:14:14.759Z [DEBUG] [mediasoup-server]: ICE state changed to connected
2025-06-11T16:14:14.780Z [DEBUG] [mediasoup-server]: Producer 2b05255a-e71b-4114-b21b-ffc5239debe8 score: [{"encodingIdx":0,"ssrc":134016117,"score":10}]
2025-06-11T16:14:14.820Z [DEBUG] [mediasoup-server]: ICE state changed to completed
2025-06-11T16:14:14.961Z [INFO] [mediasoup-server]: Sending periodic router handshake to server-2
2025-06-11T16:14:14.961Z [INFO] [mediasoup-server]: Sending periodic router handshake to server-1
2025-06-11T16:14:14.961Z [INFO] [mediasoup-server]: Sending router handshake to server-2: 2efd75a3-4300-489e-beb3-7656610a1061
2025-06-11T16:14:14.962Z [INFO] [mediasoup-server]: Sending router handshake to server-1: 64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308
2025-06-11T16:14:14.964Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308","serverId":"server-2","timestamp":1749658454962}
2025-06-11T16:14:14.964Z [INFO] [mediasoup-server]: Received router ID 64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308 from server server-2
2025-06-11T16:14:14.964Z [INFO] [mediasoup-server]: Sending router handshake acknowledgment to server-2
2025-06-11T16:14:14.966Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake_ack","routerId":"64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308","serverId":"server-2","receivedRouterId":"2efd75a3-4300-489e-beb3-7656610a1061","timestamp":1749658454965}
2025-06-11T16:14:14.964Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"2efd75a3-4300-489e-beb3-7656610a1061","serverId":"server-1","timestamp":1749658454961}
2025-06-11T16:14:14.965Z [INFO] [mediasoup-server]: Received router ID 2efd75a3-4300-489e-beb3-7656610a1061 from server server-1
2025-06-11T16:14:14.965Z [INFO] [mediasoup-server]: Sending router handshake acknowledgment to server-1
2025-06-11T16:14:14.966Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake_ack","routerId":"2efd75a3-4300-489e-beb3-7656610a1061","serverId":"server-1","receivedRouterId":"64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308","timestamp":1749658454964}
2025-06-11T16:14:14.967Z [INFO] [mediasoup-server]: Received handshake ack from server-1. They received our router ID 64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308
2025-06-11T16:14:14.966Z [INFO] [mediasoup-server]: Received handshake ack from server-2. They received our router ID 2efd75a3-4300-489e-beb3-7656610a1061
2025-06-11T16:14:14.967Z [INFO] [mediasoup-server]: Attempting to pipe previously pending producer 2b05255a-e71b-4114-b21b-ffc5239debe8
2025-06-11T16:14:14.967Z [INFO] [mediasoup-server]: Piping producer 2b05255a-e71b-4114-b21b-ffc5239debe8 (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308
2025-06-11T16:14:14.975Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"pipe_initiate","correlationId":"8141c71a-1d66-44e2-a7c0-c291079bf997","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"2efd75a3-4300-489e-beb3-7656610a1061","targetRouterId":"64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308","producerId":"2b05255a-e71b-4114-b21b-ffc5239debe8","producerInfo":{"id":"2b05255a-e71b-4114-b21b-ffc5239debe8","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"dtx":false}],"rtcp":{"cname":"GugiHDPZB0RSs5XJ","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"acce04c6-7fc3-46aa-8c4d-a3ba1ac65357","ip":"127.0.0.1","port":10837},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T16:14:14.976Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_initiate","correlationId":"8141c71a-1d66-44e2-a7c0-c291079bf997","sourceServerId":"server-1","targetServerId":"server-2","sourceRouterId":"2efd75a3-4300-489e-beb3-7656610a1061","targetRouterId":"64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308","producerId":"2b05255a-e71b-4114-b21b-ffc5239debe8","producerInfo":{"id":"2b05255a-e71b-4114-b21b-ffc5239debe8","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"dtx":false}],"rtcp":{"cname":"GugiHDPZB0RSs5XJ","reducedSize":true}},"paused":false,"appData":{}},"roomName":"66d235c6c9b3cadc2af8f81c","pipeTransportInfo":{"id":"acce04c6-7fc3-46aa-8c4d-a3ba1ac65357","ip":"127.0.0.1","port":10837},"options":{"enableSctp":true,"enableRtx":true}}
2025-06-11T16:14:14.996Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Creating remote producer proxy for undefined from server undefined in room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:14:14.997Z [INFO] [mediasoup-server]: [pipeContext.createRemoteProducer] Successfully created and registered proxy producer undefined
2025-06-11T16:14:14.999Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"pipe_confirm","correlationId":"8141c71a-1d66-44e2-a7c0-c291079bf997","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308","targetRouterId":"2efd75a3-4300-489e-beb3-7656610a1061","pipeTransportInfo":{"id":"460b9008-a399-46c4-985a-e2ac5aa733af","ip":"127.0.0.1","port":10695}}
2025-06-11T16:14:14.999Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-1: {"type":"pipe_confirm","correlationId":"8141c71a-1d66-44e2-a7c0-c291079bf997","sourceServerId":"server-2","targetServerId":"server-1","sourceRouterId":"64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308","targetRouterId":"2efd75a3-4300-489e-beb3-7656610a1061","pipeTransportInfo":{"id":"460b9008-a399-46c4-985a-e2ac5aa733af","ip":"127.0.0.1","port":10695}}
2025-06-11T16:14:15.009Z [INFO] [mediasoup-server]: Successfully piped producer 2b05255a-e71b-4114-b21b-ffc5239debe8 to remote server with router 64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308
2025-06-11T16:14:15.010Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"2b05255a-e71b-4114-b21b-ffc5239debe8","socketId":"We-9z9M8R5mQhczUAAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"dtx":false}],"rtcp":{"cname":"GugiHDPZB0RSs5XJ","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:14:15.010Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"2b05255a-e71b-4114-b21b-ffc5239debe8","socketId":"We-9z9M8R5mQhczUAAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"dtx":false}],"rtcp":{"cname":"GugiHDPZB0RSs5XJ","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:14:15.010Z [INFO] [mediasoup-server]: Queueing notification for producer 2b05255a-e71b-4114-b21b-ffc5239debe8 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:14:17.608Z [INFO] [mediasoup-server]: Retrying pipe for producer 2b05255a-e71b-4114-b21b-ffc5239debe8 after obtaining router ID
2025-06-11T16:14:17.608Z [INFO] [mediasoup-server]: Piping producer 2b05255a-e71b-4114-b21b-ffc5239debe8 (kind: audio) in room 66d235c6c9b3cadc2af8f81c to remote server with router ID 64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308
2025-06-11T16:14:17.609Z [INFO] [mediasoup-server]: Successfully piped producer 2b05255a-e71b-4114-b21b-ffc5239debe8 to remote server with router 64b4d4e1-5858-44f7-ba1a-c6c9fcaa5308
2025-06-11T16:14:17.609Z [DEBUG] [mediasoup-server]: [pipeContext.webSocketService.sendMessage] Sent to server-2: {"type":"new-producer-piped","producerId":"2b05255a-e71b-4114-b21b-ffc5239debe8","socketId":"We-9z9M8R5mQhczUAAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"dtx":false}],"rtcp":{"cname":"GugiHDPZB0RSs5XJ","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:14:17.610Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"new-producer-piped","producerId":"2b05255a-e71b-4114-b21b-ffc5239debe8","socketId":"We-9z9M8R5mQhczUAAAB","roomName":"66d235c6c9b3cadc2af8f81c","kind":"audio","rtpParameters":{"mid":"0","codecs":[{"mimeType":"audio/opus","payloadType":111,"clockRate":48000,"channels":2,"parameters":{"minptime":10,"useinbandfec":1},"rtcpFeedback":[{"type":"transport-cc","parameter":""},{"type":"nack","parameter":""}]}],"headerExtensions":[{"uri":"urn:ietf:params:rtp-hdrext:sdes:mid","id":4,"encrypt":false,"parameters":{}},{"uri":"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","id":2,"encrypt":false,"parameters":{}},{"uri":"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","id":3,"encrypt":false,"parameters":{}},{"uri":"urn:ietf:params:rtp-hdrext:ssrc-audio-level","id":1,"encrypt":false,"parameters":{}}],"encodings":[{"dtx":false}],"rtcp":{"cname":"GugiHDPZB0RSs5XJ","reducedSize":true}},"sourceServerId":"server-1","paused":false}
2025-06-11T16:14:17.610Z [INFO] [mediasoup-server]: Queueing notification for producer 2b05255a-e71b-4114-b21b-ffc5239debe8 in non-existent room 66d235c6c9b3cadc2af8f81c
2025-06-11T16:14:27.131Z [INFO] [mediasoup-server]: Disconnected from target server at ws://127.0.0.1:8081
2025-06-11T16:14:28.337Z [INFO] [mediasoup-server]: WebSocket server listening on port 8081
2025-06-11T16:14:28.339Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8080
2025-06-11T16:14:28.342Z [INFO] [mediasoup-server]: WebSocket server listening on port 8080
2025-06-11T16:14:28.345Z [INFO] [mediasoup-server]: Connecting to target server at ws://127.0.0.1:8081
2025-06-11T16:14:28.376Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T16:14:28.376Z [INFO] [mediasoup-server]: Received connection from another server
2025-06-11T16:14:28.378Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8080
2025-06-11T16:14:28.379Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T16:14:28.379Z [INFO] [mediasoup-server]: Connected to target server at ws://127.0.0.1:8081
2025-06-11T16:14:28.379Z [WARN] [mediasoup-server]: Cannot send router handshake: local router not initialized
2025-06-11T16:14:33.384Z [INFO] [mediasoup-server]: Sending periodic router handshake to server-1
2025-06-11T16:14:33.384Z [INFO] [mediasoup-server]: Sending periodic router handshake to server-2
2025-06-11T16:14:33.385Z [INFO] [mediasoup-server]: Sending router handshake to server-1: 473e10b9-1f33-442c-a075-a0ed7560ea10
2025-06-11T16:14:33.385Z [INFO] [mediasoup-server]: Sending router handshake to server-2: 0c8303e3-4c14-450b-ad3c-f379ac2aed26
2025-06-11T16:14:33.389Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"0c8303e3-4c14-450b-ad3c-f379ac2aed26","serverId":"server-1","timestamp":1749658473385}
2025-06-11T16:14:33.390Z [INFO] [mediasoup-server]: Received router ID 0c8303e3-4c14-450b-ad3c-f379ac2aed26 from server server-1
2025-06-11T16:14:33.391Z [INFO] [mediasoup-server]: Sending router handshake acknowledgment to server-1
2025-06-11T16:14:33.394Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake_ack","routerId":"0c8303e3-4c14-450b-ad3c-f379ac2aed26","serverId":"server-1","receivedRouterId":"473e10b9-1f33-442c-a075-a0ed7560ea10","timestamp":1749658473393}
2025-06-11T16:14:33.394Z [INFO] [mediasoup-server]: Received handshake ack from server-1. They received our router ID 473e10b9-1f33-442c-a075-a0ed7560ea10
2025-06-11T16:14:33.391Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake","routerId":"473e10b9-1f33-442c-a075-a0ed7560ea10","serverId":"server-2","timestamp":1749658473385}
2025-06-11T16:14:33.392Z [INFO] [mediasoup-server]: Received router ID 473e10b9-1f33-442c-a075-a0ed7560ea10 from server server-2
2025-06-11T16:14:33.393Z [INFO] [mediasoup-server]: Sending router handshake acknowledgment to server-2
2025-06-11T16:14:33.394Z [DEBUG] [mediasoup-server]: Received message from another server: {"type":"router_handshake_ack","routerId":"473e10b9-1f33-442c-a075-a0ed7560ea10","serverId":"server-2","receivedRouterId":"0c8303e3-4c14-450b-ad3c-f379ac2aed26","timestamp":1749658473391}
2025-06-11T16:14:33.394Z [INFO] [mediasoup-server]: Received handshake ack from server-2. They received our router ID 0c8303e3-4c14-450b-ad3c-f379ac2aed26
2025-06-11T16:14:34.207Z [INFO] [mediasoup-server]: Peer connected: E1R3uWn8L2GVWaXCAAAB
2025-06-11T16:15:08.179Z [INFO] [mediasoup-server]: Peer connected: gCFRPLr7v83zmzIeAAAB
2025-06-11T16:15:16.084Z [INFO] [mediasoup-server]: Peer disconnected: E1R3uWn8L2GVWaXCAAAB
2025-06-11T16:15:16.410Z [INFO] [mediasoup-server]: Peer disconnected: gCFRPLr7v83zmzIeAAAB
